{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/view.css?b15d","webpack:///./src/views/images/delete.png","webpack:///./src/views/images/move-arrows.png","webpack:///./src/views/images/copy.png","webpack:///./src/views/view.js","webpack:///./src/views/view.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./src/views/images/bucket.png","webpack:///./src/views/images/color-drop.png","webpack:///./src/views/images/straight-horizontal-line.png","webpack:///./src/views/images/rectangle.png","webpack:///./src/views/images/pen.png","webpack:///./src/views/images/double-sided-eraser.png","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/controller/gif.js","webpack:///./src/controller/AppController.js","webpack:///./src/index.js","webpack:///./src/views/landing.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","content","options","hmr","transform","insertInto","undefined","locals","__webpack_exports__","View","_images_delete_png__WEBPACK_IMPORTED_MODULE_1__","_images_delete_png__WEBPACK_IMPORTED_MODULE_1___default","_images_move_arrows_png__WEBPACK_IMPORTED_MODULE_2__","_images_move_arrows_png__WEBPACK_IMPORTED_MODULE_2___default","_images_copy_png__WEBPACK_IMPORTED_MODULE_3__","_images_copy_png__WEBPACK_IMPORTED_MODULE_3___default","constructor","win","this","[object Object]","that","squares","document","getElementById","bladskijJS","square","createElement","classList","add","appendChild","lastChild","count","domFrames","frameItem","frameWrapper","querySelector","framesDiv","id","draggable","newFrame","width","clientWidth","height","className","instruments","iconDelete","deletIcon","innerHTML","dragIcon","copyIcon","push","getUrl","___CSS_LOADER_URL___0___","___CSS_LOADER_URL___1___","___CSS_LOADER_URL___2___","___CSS_LOADER_URL___3___","___CSS_LOADER_URL___4___","___CSS_LOADER_URL___5___","useSourceMap","list","toString","map","item","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","_i","url","needQuotes","test","slice","replace","fn","memo","stylesInDom","isOldIE","window","all","atob","apply","arguments","getElement","target","parent","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","require","u","a","f","code","1","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","er","handler","len","args","listeners","error","err","context","Array","addListener","listener","newListener","warned","console","trace","on","once","fired","g","removeListener","position","removeAllListeners","listenerCount","evlistener","emitter","2","UA","browser","platform","ua","navigator","userAgent","toLowerCase","match","documentMode","version","parseFloat","parseInt","3","GIF","hasProp","superClass","defaults","frameDefaults","running","frames","freeWorkers","activeWorkers","setOptions","child","ctor","__super__","extend","workerScript","workers","repeat","background","quality","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","getImageData","render","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","_this","Math","min","Worker","onmessage","event","frameFinished","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","task","getTask","postMessage","ctx","getContext","setFill","fillRect","drawImage","last","canTransfer","./browser.coffee","events","AppController","newWindow","view","init","leftPanel","tempCanvas","isDrawing","mouseDownX","mouseDownY","x","y","imgPen","imgBucket","colors","canvasResize","colorCircle","previousColorCircle","canvasPlayer","canvasDiv","domCanvas","exportImg","selectCanvasSize","getElementsByClassName","currentColor","getComputedStyle","backgroundColor","rangeSizeCanvas","colorLayer","dragedFrameId","currentFrame","fps","currentCanvas","rect","getBoundingClientRect","sizeOrder","currentOption","checked","canvasSize","Number","previousCanvasSize","cnt","intervalID","User","canvasPlayerContext","returnObj","parse","localStorage","getItem","email","matchStartColor","pixelPos","startPixel","b","colorPixel","rgba","split","updateFrames","nextElementSibling","closest","checkFrames","newFrameNumber","oneFrame","includes","elem","changeMainCanvasVisibility","visibility","zIndex","startAnimation","numberFrames","intensity","floor","clearInterval","setInterval","canvas","clearRect","deleteHandler","currentTarget","contains","removeCanvas","canvasRemove","stopPropagation","currentCanvasHandlers","addEventListener","startX","clientX","left","startY","clientY","top","body","pixelData","pixelStack","reachLeft","reachRight","newPos","pop","coordX","coordY","putImageData","currentFr","currentFrCanvCntx","colorFilling","imgData","scale","beginPath","globalCompositeOperation","fillStyle","fill","moveTo","lineWidth","strokeStyle","lineTo","stroke","strokeRect","abs","closePath","currentFrameCanvas","currentFrameCanvasContext","changeHandler","currentCanvasContext","drag","allowDrop","preventDefault","drop","dropTarget","dropCanvas","dropMainCanvas","dragCanvas","dragMainCanvas","dragTarget","tmp","replaceWith","instrumentsHandler","querySelectorAll","copyHandler","cloneFrame","cloneNode","instrument","curFrameCanvas","cloneframeCanvas","copyCanvas","removeEventListener","plusFrame","selected","selectedIndex","canvasContext","newCanvas","contextNewCanvas","pos","frameContext","canvasforFrame","requestFullscreen","evt","border","gif","open","serialObj","setItem","shiftKey","keyCode","charCodeAt","ctrlKey","focus","click","ButtonSignIn","askEmail","newWin","onload","start"],"mappings":"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","file":"home.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./view.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./view.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./view.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"assets/02c6f66729d2060ac8345c61623c1492.png\";","module.exports = __webpack_public_path__ + \"assets/5ff12bc30fe2412f1408e4d51aeb307f.png\";","module.exports = __webpack_public_path__ + \"assets/4c51d4c79e9353afcb9c6de4a52fa4e6.png\";","import './view.css';\nimport deletIcon from './images/delete.png';\nimport dragIcon from './images/move-arrows.png';\nimport copyIcon from './images/copy.png';\n\nexport default class View {\n  constructor(win) {\n    this.win = win;\n  }\n\n  // function for creating checked background (64x64 squares, 1 square = 10px) under the main canvas\n  async init() {\n    const that = this.win;\n    const squares = that.document.getElementById('squares-background');\n    this.bladskijJS = '';\n    for (let i = 0; i < 4160; i += 1) {\n      const square = that.document.createElement('div');\n      square.classList.add('square');\n      squares.appendChild(square);\n      if (i % 65 === 0) {\n        i += 1;\n      }\n      if (i % 2 === 0) {\n        squares.lastChild.classList.add('square-dark');\n      } else {\n        squares.lastChild.classList.add('square-light');\n      }\n    }\n  }\n\n  // function for adding new frame\n  async addFrame(count, domFrames) {\n    const that = this.win;\n    const frameItem = document.createElement('div');\n    const frameWrapper = that.document.querySelector('.frame-wrapper');\n    const framesDiv = that.document.querySelector('.frames');\n    frameItem.classList = 'frame-item';\n    frameItem.id = `frame-item${count}`;\n    frameItem.draggable = true;\n    const newFrame = document.createElement('canvas');\n    newFrame.width = frameWrapper.clientWidth;\n    newFrame.height = frameWrapper.clientWidth;\n    framesDiv.appendChild(frameItem);\n    newFrame.id = `canvas${count}`;\n    newFrame.className = 'canvas-frame';\n\n    frameItem.appendChild(newFrame);\n\n    const instruments = document.createElement('div');\n    const iconDelete = (count > 0) ? (`<div class=\"delete-frame\"><img class=\"delete-img\" src=\"${deletIcon}\"></div>`) : '';\n    instruments.innerHTML = `<div class=\"frame-number\">${count}</div>${iconDelete}<div class=\"drag-frame\"><img class=\"drag-img\" src=\"${dragIcon}\"></div><div class=\"copy-frame\"><img class=\"copy-img\" src=\"${copyIcon}\"></div>`;\n    frameItem.appendChild(instruments);\n    instruments.classList = 'instruments';\n    instruments.id = `instruments${count}`;\n\n    domFrames.push(newFrame);\n  }\n}\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar getUrl = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"./images/bucket.png\"));\nvar ___CSS_LOADER_URL___1___ = getUrl(require(\"./images/color-drop.png\"));\nvar ___CSS_LOADER_URL___2___ = getUrl(require(\"./images/straight-horizontal-line.png\"));\nvar ___CSS_LOADER_URL___3___ = getUrl(require(\"./images/rectangle.png\"));\nvar ___CSS_LOADER_URL___4___ = getUrl(require(\"./images/pen.png\"));\nvar ___CSS_LOADER_URL___5___ = getUrl(require(\"./images/double-sided-eraser.png\"));\n// Module\nexports.push([module.id, \"html,body{\\n  height:100%;\\n  margin: 0;\\n  background-color: #fff;\\n}\\n\\n.left-panel-bg {\\n  background-color: rgb(214, 214, 214);\\n}\\n\\n.cursor-default {\\n  cursor: default;\\n}\\n\\n.cursor-bucket {\\n  cursor: url(\" + ___CSS_LOADER_URL___0___ + \"), auto;\\n}\\n.cursor-color-picker {\\n  cursor: url(\" + ___CSS_LOADER_URL___1___ + \"), auto;\\n}\\n.cursor-line {\\n  cursor: url(\" + ___CSS_LOADER_URL___2___ + \"), auto;\\n}\\n.cursor-rectangle {\\n  cursor: url(\" + ___CSS_LOADER_URL___3___ + \"), auto;\\n}\\n\\n.cursor-pen {\\n  cursor: url(\" + ___CSS_LOADER_URL___4___ + \"), auto;\\n}\\n.cursor-eraser {\\n  cursor: url(\" + ___CSS_LOADER_URL___5___ + \"), auto;\\n}\\n\\n.wrapper{\\n  display: flex;\\n  margin: 20px 0;\\n}\\n\\n.left-panel {\\n  flex-basis: 10%;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: stretch;\\n  margin: 0 10px auto 10px;\\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\\n}\\n\\n.left-panel div.instrument {\\n  flex: 0 0 50%;\\n  height: 30px;\\n  padding: 10px 0;\\n  text-align: center;\\n}\\n\\n.frame-wrapper {\\n  flex-basis: 10%;\\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\\n}\\n\\n.canvas {\\n\\n  flex-basis: 50%;\\n  margin: 0 10px;\\n\\n}\\n\\n.squares-background {\\n  width: 640px;\\n  height: 640px;\\n  font-size: 0;\\n  z-index: 0;\\n  position: absolute;\\n}\\n\\n.square {\\n  width: 10px;\\n  height: 10px;\\n  display: inline-block;\\n}\\n\\n.square-light {\\n  background-color: rgba(202, 202, 202, 0.2);\\n}\\n\\n.square-dark {\\n  background-color: rgba(77, 77, 77, 0.2);\\n}\\n\\n.square-mouseover {\\n  background-color: rgb(77, 77, 77);\\n}\\n\\n\\n.player {\\n  flex-basis: 30%;\\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\\n  text-align: center;\\n}\\n\\n\\n.cell {\\n  float:left;\\n  width: 30%;\\n  padding-bottom: 30%;\\n  margin:1.66%;\\n  background-color: rgb(235, 235, 235);\\n}\\n\\n.square-box{\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\n\\n\\n.colors div {\\n  padding: 10px;\\n}\\n\\n.left-panel-item {\\n  text-align: center;\\n  padding: 15px;\\n  box-sizing: border-box;\\n  width: 50%;\\n  white-space: nowrap;\\n  display: flex;\\n}\\n\\n.current-color, .previous-color {\\n  display: inline-block;\\n}\\n\\n.current-color-circle, .previous-color-circle, .predifined-color1, .predifined-color2, .predifined-color3, .predifined-color4, .predifined-color5 {\\n  display: inline-block;\\n  width: 12px;\\n  height: 12px;\\n  border-radius: 100%;\\n  border: 1px solid rgb(223, 223, 223);\\n}\\n\\n.circle-form {\\n  border-radius: 100%;\\n}\\n\\n.current-color-circle {\\n  background-color: rgb(0, 148, 0);\\n}\\n\\n.previous-color-circle {\\n  background-color: rgb(255, 0, 0);\\n}\\n\\n.predifined-color1 {\\n  background-color: rgb(0, 0, 255);\\n}\\n\\n.predifined-color2 {\\n  background-color: rgb(255, 255, 0);\\n}\\n\\n.predifined-color3 {\\n  background-color: rgb(255, 0, 0);\\n}\\n\\n.predifined-color4 {\\n  background-color: rgb(0, 145, 19);\\n}\\n\\n.predifined-color5 {\\n  background-color: rgb(0, 0, 0);\\n}\\n\\n\\n\\n.frames {\\n  position: relative;\\n  height: auto\\n}\\n\\n.add-frame {\\n  border: 1px solid grey;\\n  padding: 10px;\\n  margin: 5px;\\n  text-align: center;\\n}\\n\\n.add-frame div {\\n  margin-left: 5px;\\n  display: inline-block;\\n}\\n\\n.frame {\\n  margin-bottom: 5px;\\n  width: 100%;\\n  border: 1px solid grey;\\n\\n}\\n\\ncanvas {\\n  position: relative;\\n  z-index: 0;\\n}\\n\\n.empty-canvas {\\n  position: absolute;\\n  z-index: 0;\\n  width: 640px;\\n  height: 640px;\\n  visibility: hidden;\\n}\\n\\n.instruments {\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1;\\n}\\n\\n.frame-item {\\n  position: relative;\\n}\\n\\n.mouseover-frame {\\n  border: 2px solid grey;\\n}\\n\\n.click-frame {\\n  border: 2px solid rgb(255, 209, 5);\\n}\\n\\n.instrument-hidden {\\n  visibility: hidden;\\n}\\n\\n.frame-number {\\n  top: 10px;\\n  left: 10px;\\n  position: relative;\\n}\\n\\n.delete-img, .copy-img, .drag-img {\\n  padding: 5px;\\n}\\n\\n.delete-frame {\\n  top: -18px;\\n  left: 97px;\\n  position: relative;\\n}\\n\\n.copy-frame {\\n  top: 7px;\\n  left: 97px;\\n  position: relative;\\n}\\n\\n.drag-frame {\\n  position: relative;\\n  top: 45px;\\n  left: 0px;\\n}\\n\\n.canvas-player {\\n  width: 100%;\\n  position: unset;\\n}\\n\\n.canvas-main {\\n  position: absolute;\\n}\\n\\n.canvas-main1 {\\n  z-index: 1;\\n}\\n\\n.color-picker {\\n  display: none;\\n  }\\n\\n  .save-img {\\n    width: 31%;\\n    margin: 5px auto;\\n    padding: 14px;\\n    border: 1px solid rgb(75, 75, 75);\\n  }\\n\\n\\n  .landing-wrapper {\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: nowrap;\\n  }\\n\\n  .information {\\n    flex-basis: 30%;\\n  }\\n\\n  .screenshot {\\n    flex-basis: 50%;\\n  }\\n\\n  .animation {\\n    flex-basis: 20%;\\n  }\\n\\n  .screen-img {\\n    width: 100%;\\n  }\\n\\n  form {\\n    border: 3px solid #f1f1f1;\\n}\\n\\ninput[type=text] {\\n    width: 100%;\\n    padding: 12px 20px;\\n    margin: 8px 0;\\n    display: inline-block;\\n    border: 1px solid #ccc;\\n    box-sizing: border-box;\\n}\\n\\ninput[type=button] {\\n    background-color: #4CAF50;\\n    color: white;\\n    padding: 14px 20px;\\n    margin: 8px 0;\\n    border: none;\\n    cursor: pointer;\\n    width: 100%;\\n}\\n\\ninput[type=button]:hover {\\n    opacity: 0.8;\\n}\\n\\n\\n.ask-email {\\n  color: red;\\n  visibility: hidden;\\n}\\n\\n\\n.container {\\n    padding: 16px;\\n}\\n\\nspan.psw {\\n    float: right;\\n    padding-top: 16px;\\n}\\n\\n.shortcuts {\\n  font-size: 13px;\\n}\\n\\n.animation-img {\\n  width: 200px;\\n  height: 200px;\\n}\\n\\n\\n\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nmodule.exports = function (url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = __webpack_public_path__ + \"assets/ea1f8eb144c225e21de3d16cb6f9c725.png\";","module.exports = __webpack_public_path__ + \"assets/a0ba653686984712732c14e4d90a686e.png\";","module.exports = __webpack_public_path__ + \"assets/4a6b0911f25f8ca530c084d709c77e30.png\";","module.exports = __webpack_public_path__ + \"assets/f2a525e3bd3b85f2022f05dca1f55351.png\";","module.exports = __webpack_public_path__ + \"assets/3d21a55fcb55eeea25ef9537cd473453.png\";","module.exports = __webpack_public_path__ + \"assets/d19fcdcff26fa3b8684463d274933ef0.png\";","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GIF=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n\n","/* eslint-disable max-len */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\n/* eslint-disable prefer-destructuring */\nimport View from '../views/view';\nimport GIF from './gif';\nimport '../views/view.css';\n\nexport default class AppController {\n  constructor(win) {\n    this.win = win;\n  }\n\n  async start() {\n    const newWindow = this.win;\n    const that = this;\n    this.view = new View(newWindow);\n    this.view.init();\n    const leftPanel = newWindow.document.getElementById('left-panel');\n    const tempCanvas = document.createElement('canvas');\n    tempCanvas.width = 640;\n    tempCanvas.height = 640;\n    let isDrawing = false;\n    let mouseDownX = 0;\n    let mouseDownY = 0;\n    let x = 0;\n    let y = 0;\n\n    const imgPen = newWindow.document.getElementById('img-pen');\n    const imgBucket = newWindow.document.getElementById('img-bucket');\n    const colors = newWindow.document.getElementById('colors');\n    const canvasResize = newWindow.document.getElementById('canvas-resize');\n    const colorCircle = newWindow.document.getElementById('current-color-circle');\n    const previousColorCircle = newWindow.document.getElementById('previous-color-circle');\n    const addFrame = newWindow.document.querySelector('.add-frame');\n    const canvasPlayer = newWindow.document.getElementById('canvas-player');\n    const canvasDiv = newWindow.document.querySelector('div.canvas');\n    const domFrames = [];\n    const domCanvas = [];\n    const exportImg = newWindow.document.getElementById('save-img');\n    const selectCanvasSize = newWindow.document.getElementsByClassName('canvas-size');\n    let currentColor = newWindow.getComputedStyle(colorCircle).backgroundColor;\n    const rangeSizeCanvas = newWindow.document.getElementById('range');\n    let colorLayer;\n    let count = 0;\n    let currentFrame = 1;\n    let dragedFrameId;\n    let fps = 5;\n\n    let currentCanvas = newWindow.document.getElementById('empty-canvas');\n    let context = currentCanvas.getContext('2d');\n    let rect = currentCanvas.getBoundingClientRect();\n    let sizeOrder = 1;\n    const currentOption = selectCanvasSize[0][sizeOrder];\n    currentOption.checked = true;\n    let canvasSize = Number(currentOption.value);\n    let previousCanvasSize = canvasSize;\n    let cnt = 0;\n    let intervalID = 0;\n    let User = {};\n    const canvasPlayerContext = newWindow.document.getElementById('canvas-player').getContext('2d');\n\n    const returnObj = JSON.parse(localStorage.getItem(localStorage.email));\n    if (!returnObj) {\n      User = {\n        email: localStorage.email,\n        canvasSize,\n        currentFrame,\n        currentColor,\n      };\n    } else {\n      sizeOrder = Math.floor(returnObj.canvasSize / 64);\n      selectCanvasSize[0][sizeOrder].checked = true;\n      currentFrame = returnObj.currentFrame;\n      colorCircle.style.backgroundColor = returnObj.currentColor;\n      User = {\n        email: localStorage.email,\n        canvasSize,\n        currentFrame,\n        currentColor: colorCircle.style.backgroundColor,\n      };\n    }\n    selectCanvasSize[0][sizeOrder].selected = true;\n\n    function matchStartColor(pixelPos, startPixel) {\n      const r = colorLayer.data[pixelPos];\n      const g = colorLayer.data[pixelPos + 1];\n      const b = colorLayer.data[pixelPos + 2];\n      return (r === startPixel[0] && g === startPixel[1] && b === startPixel[2]);\n    }\n\n    function colorPixel(pixelPos) {\n      const rgbaString = currentColor.replace(/[a-z () '\"]/g, '');\n      const rgba = rgbaString.split(',');\n      colorLayer.data[pixelPos] = rgba[0];\n      colorLayer.data[pixelPos + 1] = rgba[1];\n      colorLayer.data[pixelPos + 2] = rgba[2];\n      colorLayer.data[pixelPos + 3] = 255;\n    }\n\n    // handler for color picker\n    colors.addEventListener('click', (e) => {\n      let { target } = e;\n      while (!target.className.includes('predifined-color')) {\n        target = target.parentNode;\n      }\n      if (newWindow.document.body.className.includes('cursor-color-picker')) {\n        currentColor = newWindow.getComputedStyle(colorCircle).backgroundColor;\n        previousColorCircle.style.backgroundColor = currentColor;\n        colorCircle.style.backgroundColor = newWindow.getComputedStyle(target).backgroundColor;\n      }\n    });\n\n    // handler for scaling canvas\n    canvasResize.addEventListener('change', (e) => {\n      const { target } = e;\n      previousCanvasSize = canvasSize;\n      target.options[target.options.selectedIndex].checked = true;\n      canvasSize = Number(target.value);\n      User.canvasSize = canvasSize;\n      let imgData;\n\n      domCanvas.forEach((item) => {\n        const canvasContext = item.getContext('2d');\n        const newCanvas = newWindow.document.createElement('canvas');\n        if ((previousCanvasSize / canvasSize) > 1) {\n          imgData = canvasContext.getImageData(160, 160, 320, 320);\n          newCanvas.width = 320;\n          newCanvas.height = 320;\n        } else {\n          imgData = canvasContext.getImageData(0, 0, 640, 640);\n          newCanvas.width = 640;\n          newCanvas.height = 640;\n        }\n\n        const scale = previousCanvasSize / canvasSize;\n        const contextNewCanvas = newCanvas.getContext('2d');\n        contextNewCanvas.putImageData(imgData, 0, 0);\n\n        if (scale < 1) {\n          const pos = (640 - 640 / (1 / scale)) / 2;\n          window.console.log(pos);\n          canvasContext.clearRect(0, 0, 640, 640);\n          canvasContext.drawImage(newCanvas, pos, pos, 640 * scale, 640 * scale);\n        } else {\n          canvasContext.clearRect(0, 0, 640, 640);\n          canvasContext.drawImage(newCanvas, 0, 0, 320 * scale, 320 * scale);\n        }\n\n        contextNewCanvas.clearRect(0, 0, newCanvas.width, newCanvas.height);\n      });\n\n      domFrames.forEach((frame, i) => {\n        const frameContext = frame.getContext('2d');\n        const canvasforFrame = newWindow.document.getElementById(`canvas-main${i + 1}`);\n        frameContext.clearRect(0, 0, frame.width, frame.height);\n        frameContext.drawImage(canvasforFrame, 0, 0, frame.width, frame.height);\n      });\n    });\n\n    // function for color filling\n    function colorFilling(startX, startY) {\n      const pixelStack = [[startX, startY]];\n      colorLayer = context.getImageData(0, 0, currentCanvas.width, currentCanvas.height);\n      const pixelData = context.getImageData(startX, startY, 1, 1).data;\n\n      while (pixelStack.length) {\n        let pixelPos; let reachLeft; let reachRight;\n        const newPos = pixelStack.pop();\n        const coordX = newPos[0];\n        let coordY = newPos[1];\n\n        pixelPos = Math.floor((coordY * currentCanvas.width + coordX)) * 4;\n        while ((coordY >= 0) && matchStartColor(pixelPos, pixelData)) {\n          pixelPos -= currentCanvas.width * 4;\n          coordY -= 1;\n        }\n        pixelPos += currentCanvas.width * 4;\n        ++coordY;\n        reachLeft = false;\n        reachRight = false;\n        while ((coordY < (currentCanvas.height - 1)) && matchStartColor(pixelPos, pixelData)) {\n          colorPixel(pixelPos);\n\n          if (coordX > 0) {\n            if (matchStartColor(pixelPos - 4, pixelData)) {\n              if (!reachLeft) {\n                pixelStack.push([coordX - 1, coordY]);\n                reachLeft = true;\n              }\n            } else if (reachLeft) {\n              reachLeft = false;\n            }\n          }\n\n          if (coordX < (currentCanvas.width - 1)) {\n            if (matchStartColor(pixelPos + 4, pixelData)) {\n              if (!reachRight) {\n                pixelStack.push([coordX + 1, coordY]);\n                reachRight = true;\n              }\n            } else if (reachRight) {\n              reachRight = false;\n            }\n          }\n\n          pixelPos += currentCanvas.width * 4;\n          coordY += 1;\n        }\n      }\n      context.putImageData(colorLayer, 0, 0);\n      const currentFr = newWindow.document.getElementById(`canvas${currentFrame}`);\n      const currentFrCanvCntx = currentFr.getContext('2d');\n      currentFrCanvCntx.clearRect(0, 0, currentFr.width, currentFr.height);\n      currentFrCanvCntx.drawImage(currentCanvas, 0, 0, currentFr.width, currentFr.height);\n    }\n\n    function leftPanelEventClick(evt) {\n      let { target } = evt;\n\n      while (!target.className.includes('instrument')) {\n        target = target.parentNode;\n      }\n\n      if (target.className.includes('bucket')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-bucket');\n      } else if (target.className.includes('dropper')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-color-picker');\n      } else if (target.className.includes('line')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-line');\n      } else if (target.className.includes('rectangle')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-rectangle');\n      } else if (target.className.includes('pen')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-pen');\n      } else if (target.className.includes('eraser')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-eraser');\n      }\n    }\n\n    function leftPanelEventMouseOver(evt) {\n      let { target } = evt;\n      if (target) {\n        while (!target.className.includes('instrument')) {\n          target = target.parentNode;\n        }\n        target.classList.add('left-panel-bg');\n      }\n    }\n\n    function leftPanelEventMouseOut(evt) {\n      let { target } = evt;\n\n      while (!target.className.includes('instrument')) {\n        target = target.parentNode;\n      }\n      target.classList.remove('left-panel-bg');\n    }\n\n    // function for updating frame number and frame, instrument and canvas in frame id\n    function updateFrames() {\n      domFrames.forEach((item, i) => {\n        const instruments = item.nextElementSibling;\n        const frameNumber = instruments.childNodes[0];\n        frameNumber.innerHTML = i + 1;\n        instruments.id = `instruments${i + 1}`;\n        const frameItem = item.closest('.frame-item');\n        frameItem.id = `frame-item${i + 1}`;\n        item.id = `canvas${i + 1}`;\n      });\n    }\n\n    // function checks frames amount and hide (for one frame) or\n    // show (for more than one frames) delete and darg- instruments\n    function checkFrames(newFrameNumber) {\n      if (domFrames.length === 1) {\n        const oneFrame = newWindow.document.getElementsByClassName('frame-item');\n        oneFrame[0].classList.add('click-frame');\n        currentFrame = 1;\n        const instruments = oneFrame[0].lastChild;\n        instruments.childNodes.forEach((item) => {\n          if (item.className.includes('drag-frame') || item.className.includes('delete-frame')) {\n            item.classList.add('instrument-hidden');\n          }\n        });\n      } else {\n        domFrames.forEach((item) => {\n          if (item.parentNode.id === `frame-item${newFrameNumber}`) {\n            item.parentNode.classList.add('click-frame');\n            item.parentNode.classList.add('mouseover-frame');\n            currentFrame = newFrameNumber;\n          } else {\n            item.parentNode.classList.remove('click-frame');\n            item.parentNode.classList.remove('mouseover-frame');\n          }\n          item.parentNode.childNodes.forEach((el) => {\n            if (el.className.includes('instruments')) {\n              el.childNodes.forEach((elem) => {\n                if (elem.className.includes('drag-frame') || elem.className.includes('delete-frame')) {\n                  elem.classList.remove('instrument-hidden');\n                }\n              });\n            }\n          });\n        });\n      }\n    }\n\n    // function manage visibility for main canvases\n    function changeMainCanvasVisibility() {\n      domCanvas.forEach((item) => {\n        if (item !== currentCanvas) {\n          item.style.visibility = 'hidden';\n          item.style.zIndex = 0;\n        } else {\n          item.style.visibility = '';\n          item.style.zIndex = 1;\n        }\n      });\n    }\n\n    function startAnimation(numberFrames) {\n      cnt = 0;\n      const intensity = Math.floor(1000 / numberFrames);\n      if (intervalID) {\n        clearInterval(intervalID);\n      }\n      intervalID = setInterval(() => {\n        if (cnt === domCanvas.length) {\n          cnt = 0;\n        }\n        const canvas = domCanvas[cnt];\n        canvasPlayerContext.clearRect(0, 0, canvasPlayer.width, canvasPlayer.height);\n        canvasPlayerContext.drawImage(canvas, 0, 0, canvasPlayer.width, canvasPlayer.height);\n\n        cnt += 1;\n      }, intensity);\n    }\n\n    // function for deleting frame and canvas\n    function deleteHandler(event) {\n      let target;\n      if (!event) {\n        target = newWindow.document.getElementById(`frame-item${currentFrame}`);\n      } else {\n        target = event.currentTarget;\n\n        while (!target.classList.contains('frame-item')) {\n          target = target.parentNode;\n        }\n      }\n      const removeCanvas = newWindow.document.getElementById(`canvas${target.id.slice(-1)}`);\n      domFrames.forEach((item, i) => {\n        if (item === removeCanvas) {\n          domFrames.splice(i, 1);\n          domCanvas.splice(i, 1);\n        }\n      });\n      // deleting frame\n      const parent = target.parentNode;\n      parent.removeChild(target);\n      updateFrames();\n      count -= 1;\n      checkFrames(count);\n      // deleting main canvas\n      const canvasRemove = newWindow.document.getElementById(`canvas-main${target.id.slice(-1)}`);\n      canvasDiv.removeChild(canvasRemove);\n      domCanvas.forEach((item, i) => {\n        item.id = `canvas-main${i + 1}`;\n      });\n      currentCanvas = newWindow.document.getElementById(`canvas-main${count}`);\n      changeMainCanvasVisibility();\n      clearInterval(intervalID);\n      startAnimation(fps);\n      event.stopPropagation();\n    }\n\n    function currentCanvasHandlers() {\n      currentCanvas.addEventListener('click', (e) => {\n        let startX = e.clientX - rect.left;\n        let startY = e.clientY - rect.top;\n\n        if (newWindow.document.body.className.includes('cursor-bucket')) {\n          startX += imgBucket.width;\n          startY += imgBucket.height;\n        }\n        const pixelData = context.getImageData(startX, startY, 1, 1).data;\n\n        if (newWindow.document.body.className.includes('cursor-color-picker')) {\n          const rgba = `rgba(${pixelData[0]}, ${pixelData[1]}, ${pixelData[2]}, ${pixelData[3]})`;\n          previousColorCircle.style.backgroundColor = currentColor;\n          colorCircle.style.backgroundColor = rgba;\n        } else if (newWindow.document.body.className.includes('cursor-bucket')) {\n          colorFilling(startX, startY);\n        }\n      });\n\n      // Add the event listeners for mousedown, mousemove, and mouseup\n      currentCanvas.addEventListener('mousedown', (e) => {\n        if (newWindow.document.body.className.includes('cursor-pen') || newWindow.document.body.className.includes('cursor-eraser') || newWindow.document.body.className.includes('cursor-line') || newWindow.document.body.className.includes('cursor-rectangle')) {\n          x = e.clientX - rect.left;\n          y = e.clientY - rect.top + imgPen.height;\n          x = Math.floor(x / 10) * 10;\n          y = Math.floor(y / 10) * 10;\n          isDrawing = true;\n          if (newWindow.document.body.className.includes('cursor-line')\n          || newWindow.document.body.className.includes('cursor-rectangle')\n          ) {\n            mouseDownX = x;\n            mouseDownY = y;\n            const imgData = context.getImageData(0, 0, 640, 640);\n            tempCanvas.getContext('2d').clearRect(0, 0, 640, 640);\n            tempCanvas.getContext('2d').putImageData(imgData, 0, 0);\n          }\n        }\n      });\n\n      currentCanvas.addEventListener('mousemove', (e) => {\n        currentColor = newWindow.getComputedStyle(colorCircle).backgroundColor;\n        const scale = 64 / canvasSize;\n        if (newWindow.document.body.className.includes('cursor-pen') || newWindow.document.body.className.includes('cursor-eraser')) {\n          if (isDrawing === true) {\n            context.beginPath();\n            context.rect(x, y, 10 * scale, 10 * scale);\n            if (newWindow.document.body.className.includes('cursor-pen')) {\n              context.globalCompositeOperation = 'source-over';\n              context.fillStyle = currentColor;\n            } else {\n              context.globalCompositeOperation = 'destination-out';\n              context.fillStyle = 'rgba(255,0,0,0.5);';\n            }\n            context.fill();\n          }\n          x = e.clientX - rect.left;\n          y = e.clientY - rect.top + imgPen.height;\n          x = Math.floor(x / 10) * 10;\n          y = Math.floor(y / 10) * 10;\n        } else if (newWindow.document.body.className.includes('cursor-line') && isDrawing === true) {\n          x = e.clientX - rect.left;\n          y = e.clientY - rect.top + imgPen.height;\n          x = Math.floor(x / 10) * 10;\n          y = Math.floor(y / 10) * 10;\n          const imgData = tempCanvas.getContext('2d').getImageData(0, 0, 640, 640);\n          context.clearRect(0, 0, 640, 640);\n          context.putImageData(imgData, 0, 0);\n          context.beginPath();\n          context.moveTo(mouseDownX, mouseDownY);\n          context.lineWidth = 640 / canvasSize;\n          window.console.log('moved to', x, y);\n          context.strokeStyle = currentColor;\n          context.lineTo(x, y);\n          context.stroke();\n        } else if (newWindow.document.body.className.includes('cursor-rectangle') && isDrawing === true) {\n          x = e.clientX - rect.left;\n          y = e.clientY - rect.top + imgPen.height;\n          x = Math.floor(x / 10) * 10;\n          y = Math.floor(y / 10) * 10;\n          const imgData = tempCanvas.getContext('2d').getImageData(0, 0, 640, 640);\n          context.clearRect(0, 0, 640, 640);\n          context.putImageData(imgData, 0, 0);\n          context.beginPath();\n          context.moveTo(mouseDownX, mouseDownY);\n          context.lineWidth = 640 / canvasSize;\n          window.console.log('moved to', x, y);\n          context.strokeStyle = currentColor;\n          context.strokeRect(Math.min(x, mouseDownX), Math.min(y, mouseDownY), Math.abs(x - mouseDownX), Math.abs(y - mouseDownY));\n          context.stroke();\n        }\n      });\n\n      currentCanvas.addEventListener('mouseup', () => {\n        currentColor = newWindow.getComputedStyle(colorCircle).backgroundColor;\n        const scale = 64 / canvasSize;\n        if (newWindow.document.body.className.includes('cursor-pen') || newWindow.document.body.className.includes('cursor-eraser')) {\n          if (isDrawing === true) {\n            context.beginPath();\n            context.rect(x, y, 10 * scale, 10 * scale);\n            if (newWindow.document.body.className.includes('cursor-pen')) {\n              context.globalCompositeOperation = 'source-over';\n              context.fillStyle = currentColor;\n            } else {\n              context.globalCompositeOperation = 'destination-out';\n              context.fillStyle = 'rgba(255,0,0,0.5);';\n            }\n            context.fill();\n          }\n        } else if (newWindow.document.body.className.includes('cursor-line')) {\n          context.lineTo(x, y);\n          context.closePath();\n        }\n        x = 0;\n        y = 0;\n        isDrawing = false;\n        const currentFrameCanvas = newWindow.document.getElementById(`canvas${currentFrame}`);\n        const currentFrameCanvasContext = currentFrameCanvas.getContext('2d');\n        currentFrameCanvasContext.clearRect(0, 0, currentFrameCanvas.width, currentFrameCanvas.height);\n        currentFrameCanvasContext.drawImage(currentCanvas, 0, 0, currentFrameCanvas.width, currentFrameCanvas.height);\n      });\n    }\n\n    // currentCanvasHandlers();\n\n    // handler for selecting new frame\n    function changeHandler(event) {\n      let target = event.currentTarget;\n      while (!target.classList.contains('frame-item')) {\n        target = target.parentNode;\n      }\n      checkFrames(target.id.slice(-1));\n      currentFrame = target.id.slice(-1);\n      currentCanvas = newWindow.document.getElementById(`canvas-main${target.id.slice(-1)}`);\n      if (!currentCanvas) {\n        currentCanvas = newWindow.document.createElement('canvas');\n        currentCanvas.className = `canvas-main canvas-main${target.id.slice(-1)}`;\n        currentCanvas.id = `canvas-main${target.id.slice(-1)}`;\n        canvasDiv.appendChild(currentCanvas);\n        const currentCanvasContext = currentCanvas.getContext('2d');\n        const scale = previousCanvasSize / canvasSize;\n        currentCanvasContext.scale(scale, scale);\n      }\n      context = currentCanvas.getContext('2d');\n      rect = currentCanvas.getBoundingClientRect();\n      changeMainCanvasVisibility();\n      currentCanvasHandlers();\n    }\n\n    function drag(el) {\n      const event = el.target.closest('.frame-item');\n      dragedFrameId = event.id.slice(-1);\n    }\n\n    function allowDrop(el) {\n      el.preventDefault();\n    }\n\n    function drop(el) {\n      el.preventDefault();\n      const dropTarget = el.target.closest('.frame-item');\n      const dropCanvas = newWindow.document.getElementById(`canvas${dropTarget.id.slice(-1)}`);\n      const dropMainCanvas = newWindow.document.getElementById(`canvas-main${dropTarget.id.slice(-1)}`);\n      const dragCanvas = newWindow.document.getElementById(`canvas${dragedFrameId}`);\n      const dragMainCanvas = newWindow.document.getElementById(`canvas-main${dragedFrameId}`);\n      const dragTarget = newWindow.document.getElementById(`frame-item${dragedFrameId}`);\n      domFrames[dropCanvas.id.slice(-1) - 1] = dragCanvas;\n      domFrames[dragCanvas.id.slice(-1) - 1] = dropCanvas;\n      domCanvas[dropMainCanvas.id.slice(-1) - 1] = dragMainCanvas;\n      domCanvas[dragMainCanvas.id.slice(-1) - 1] = dropMainCanvas;\n      dropMainCanvas.id = `canvas-main${dragedFrameId}`;\n      dragMainCanvas.id = `canvas-main${dropTarget.id.slice(-1)}`;\n      const tmp = newWindow.document.createElement('span');\n      tmp.className = 'hide';\n      dropTarget.before(tmp);\n      dragTarget.before(dropTarget);\n      tmp.replaceWith(dragTarget);\n      updateFrames();\n    }\n\n\n    // handlers for deleting and drag-drop frame\n    function instrumentsHandler() {\n      newWindow.document.querySelectorAll('.delete-img').forEach((el) => {\n        el.addEventListener('click', deleteHandler);\n        el.addEventListener('mouseenter', () => {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        });\n        el.addEventListener('mouseleave', () => {\n          el.style.backgroundColor = '';\n        });\n      });\n\n      newWindow.document.querySelectorAll('.drag-img').forEach((el) => {\n        el.addEventListener('dragstart', drag);\n        el.addEventListener('dragover', allowDrop);\n        el.addEventListener('drop', drop);\n        el.addEventListener('mouseenter', () => {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        });\n        el.addEventListener('mouseleave', () => {\n          el.style.backgroundColor = '';\n        });\n      });\n    }\n\n    // function for copying frame and canvas\n    function copyHandler(event) {\n      count += 1;\n      let target;\n      if (!event) {\n        target = newWindow.document.getElementById(`frame-item${currentFrame}`);\n      } else {\n        target = event.currentTarget;\n\n        while (!target.classList.contains('frame-item')) {\n          target = target.parentNode;\n        }\n      }\n      // copying frame\n      const parent = target.parentNode;\n      const cloneFrame = target.cloneNode(true);\n      parent.appendChild(cloneFrame);\n      cloneFrame.id = `frame-item${count}`;\n      const instrument = cloneFrame.getElementsByClassName('instruments')[0];\n      instrument.id = `instruments${count}`;\n      instrument.childNodes[0].innerHTML = count;\n      instrument.getElementsByClassName('copy-img')[0].style.backgroundColor = '';\n      // change copying canvas in frame\n      const curFrameCanvas = target.getElementsByClassName('canvas-frame')[0];\n      const cloneframeCanvas = cloneFrame.getElementsByClassName('canvas-frame')[0];\n      cloneframeCanvas.id = `canvas${count}`;\n      const cloneframeCanvasContext = cloneframeCanvas.getContext('2d');\n      cloneframeCanvasContext.drawImage(curFrameCanvas, 0, 0);\n      domFrames.push(cloneframeCanvas);\n      checkFrames(count);\n      // copying main canvas\n      const copyCanvas = currentCanvas.cloneNode();\n      const contextCopyCanvas = copyCanvas.getContext('2d');\n      contextCopyCanvas.drawImage(currentCanvas, 0, 0);\n      copyCanvas.id = `canvas-main${count}`;\n      copyCanvas.className.replace(`/ *\\b${target.id.slice(-1)}\\b/g`, count);\n      canvasDiv.appendChild(copyCanvas);\n      currentCanvas = copyCanvas;\n      context = currentCanvas.getContext('2d');\n      domCanvas.push(copyCanvas);\n      changeMainCanvasVisibility();\n      event.stopPropagation();\n\n      newWindow.document.querySelectorAll('.copy-img').forEach((el) => {\n        el.removeEventListener('click', copyHandler);\n        el.addEventListener('click', copyHandler);\n        el.addEventListener('mouseenter', () => {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        });\n        el.addEventListener('mouseleave', () => {\n          el.style.backgroundColor = '';\n        });\n      });\n      newWindow.document.querySelectorAll('.frame-item').forEach((el) => {\n        el.removeEventListener('click', changeHandler);\n        el.addEventListener('click', changeHandler);\n        el.addEventListener('mouseenter', () => {\n          el.classList.add('mouseover-frame');\n        });\n        el.addEventListener('mouseleave', () => {\n          el.classList.remove('mouseover-frame');\n        });\n      });\n      instrumentsHandler();\n    }\n\n    // full-size animation\n    newWindow.document.getElementById('canvas-player').addEventListener('click', (event) => {\n      event.currentTarget.requestFullscreen();\n    });\n\n    // change animation speed\n    rangeSizeCanvas.addEventListener('input', () => {\n      fps = rangeSizeCanvas.value;\n      clearInterval(intervalID);\n      startAnimation(Number(fps));\n    });\n\n    // adding new frame\n    function plusFrame() {\n      canvasPlayer.style.height = `${canvasPlayer.clientWidth}px`;\n      count += 1;\n      that.view.addFrame(count, domFrames);\n      checkFrames(count);\n\n      currentCanvas = newWindow.document.createElement('canvas');\n      currentCanvas.className = `canvas-main canvas-main${count}`;\n      currentCanvas.id = `canvas-main${count}`;\n      currentCanvas.style.zIndex = 1;\n      currentCanvas.width = 640;\n      currentCanvas.height = 640;\n      canvasDiv.appendChild(currentCanvas);\n      const currentCanvasContext = currentCanvas.getContext('2d');\n      context = currentCanvasContext;\n      rect = currentCanvas.getBoundingClientRect();\n      domCanvas.push(currentCanvas);\n\n      changeMainCanvasVisibility();\n      clearInterval(intervalID);\n      startAnimation(5);\n\n      currentCanvasHandlers();\n\n      newWindow.document.querySelectorAll('.copy-img').forEach((el) => {\n        el.removeEventListener('click', copyHandler);\n        el.addEventListener('click', copyHandler);\n        el.addEventListener('mouseenter', () => {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        });\n        el.addEventListener('mouseleave', () => {\n          el.style.backgroundColor = '';\n        });\n      });\n      newWindow.document.querySelectorAll('.frame-item').forEach((el) => {\n        el.removeEventListener('click', changeHandler);\n        el.addEventListener('click', changeHandler);\n        el.addEventListener('mouseenter', () => {\n          el.classList.add('mouseover-frame');\n        });\n        el.addEventListener('mouseleave', () => {\n          // el.style.backgroundColor = '';\n          el.classList.remove('mouseover-frame');\n        });\n      });\n      instrumentsHandler();\n    }\n\n    plusFrame();\n\n    leftPanel.addEventListener('mousedown', leftPanelEventClick);\n    leftPanel.addEventListener('mouseover', leftPanelEventMouseOver);\n    leftPanel.addEventListener('mouseout', leftPanelEventMouseOut);\n\n    addFrame.addEventListener('click', plusFrame);\n    addFrame.addEventListener('mouseenter', () => {\n      addFrame.style.border = '3px solid grey';\n    });\n\n\n    addFrame.addEventListener('mouseleave', () => {\n      addFrame.style.border = '1px solid grey';\n    });\n\n    exportImg.addEventListener('mouseover', (el) => {\n      el.target.style.backgroundColor = 'rgb(214, 214, 214)';\n    });\n    exportImg.addEventListener('mouseout', (el) => {\n      el.target.style.backgroundColor = '';\n    });\n\n    exportImg.addEventListener('click', () => {\n      const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        workerScript: 'src/controller/gif.worker.js',\n        background: '#fff',\n        width: 640,\n        height: 640,\n      });\n\n      domCanvas.forEach((item) => {\n        gif.addFrame(item, { delay: 200 });\n      });\n\n      gif.on('finished', (blob) => {\n        newWindow.open(URL.createObjectURL(blob));\n      });\n\n      gif.render();\n    });\n\n    newWindow.addEventListener('beforeunload', () => {\n      const serialObj = JSON.stringify(User);\n      localStorage.setItem(localStorage.email, serialObj);\n      delete localStorage.email;\n    });\n\n    newWindow.document.addEventListener('keydown', (e) => {\n      /* if (e.keyCode === 27) { // escape\n        // cancel();\n        return false;\n      } */\n\n\n      if ((e.shiftKey && e.keyCode === 'A'.charCodeAt(0))) {\n        e.preventDefault();\n        copyHandler();\n        return false;\n      }\n\n      if ((e.shiftKey && e.keyCode === 'C'.charCodeAt(0))) {\n        e.preventDefault();\n        copyHandler();\n        return false;\n      }\n\n      if ((e.shiftKey && e.keyCode === 'D'.charCodeAt(0))) {\n        e.preventDefault();\n        deleteHandler();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'G'.charCodeAt(0))) {\n        e.preventDefault();\n        exportImg.focus();\n        exportImg.click();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'R'.charCodeAt(0))) {\n        e.preventDefault();\n        rangeSizeCanvas.focus();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'S'.charCodeAt(0))) {\n        e.preventDefault();\n        selectCanvasSize[0].focus();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'L'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-line');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'V'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-rectangle');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'B'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-bucket');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'C'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-color-picker');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'P'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-pen');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'E'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-eraser');\n        return false;\n      }\n      return false;\n    });\n  }\n}\n","// import AppController from './controller/AppController';\nimport Landing from './views/landing';\n\n// const appController = new AppController();\nconst landing = new Landing();\n\nlanding.start();\n\n// appController.start();\n","import './view.css';\nimport AppController from '../controller/AppController';\n\n\nexport default class Landing {\n  constructor() {\n    window.console.log('Landing created');\n  }\n\n  async start() {\n    window.console.log('Landing started');\n    this.test = '';\n\n    const ButtonSignIn = document.getElementById('button-signin');\n    const email = document.getElementById('email');\n    const askEmail = document.getElementsByClassName('ask-email');\n    // const formSignIn = document.getElementById('form-signin');\n    ButtonSignIn.addEventListener('click', () => {\n      if (!email.value) {\n        // askEmail[0].classList.remove('ask-email');\n        askEmail[0].style.visibility = 'visible';\n      } else {\n        const pattern = /^\\w+@\\w+\\.\\w{2,4}$/i;\n        if (pattern.test(email.value)) {\n          delete localStorage.email;\n          localStorage.setItem('email', email.value);\n          const url = './view.html';\n          const newWin = window.open(url);\n          newWin.onload = () => {\n          // window.location.assign(url);\n            const appController = new AppController(newWin);\n            appController.start();\n          };\n        }\n      }\n      // window.location.replace('http://localhost:8080/views/view.html');\n    });\n  }\n}\n"],"sourceRoot":""}