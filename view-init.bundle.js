!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),s=r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")});return[n].concat(s).concat([o]).join("\n")}var i,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="(".concat(a[2],") and (").concat(n,")")),t.push(a))}},t}},function(e,t,n){var r,o,s={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,l=0,d=[],u=n(2);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=s[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(y(r.parts[i],t))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(y(r.parts[i],t));s[r.id]={id:r.id,refs:1,parts:a}}}}function m(e,t){for(var n=[],r={},o=0;o<e.length;o++){var s=e[o],i=t.base?s[0]+t.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};r[i]?r[i].parts.push(a):n.push(r[i]={id:i,parts:[a]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertAt.before,n);n.insertBefore(t,o)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return g(t,e.attrs),f(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,o,s;if(t.transform&&e.css){if(!(s="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var i=l++;n=c||(c=v(t)),r=L.bind(null,n,i,!1),o=L.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||s)&&(r=u(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}.bind(null,n,t),o=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return h(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(a=s[i.id]).refs--,r.push(a)}e&&h(m(e,t),t);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete s[a.id]}}}};var b,x=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function L(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var s=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(s,i[t]):e.appendChild(s)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:r+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){e.exports=n.p+"assets/02c6f66729d2060ac8345c61623c1492.png"},function(e,t,n){e.exports=n.p+"assets/5ff12bc30fe2412f1408e4d51aeb307f.png"},function(e,t,n){e.exports=n.p+"assets/4c51d4c79e9353afcb9c6de4a52fa4e6.png"},,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var r=n(3),o=n.n(r),s=n(4),i=n.n(s),a=n(5),c=n.n(a);class l{constructor(e){this.win=e}async init(){const e=this.win,t=e.document.getElementById("squares-background");this.bladskijJS="";for(let n=0;n<4160;n+=1){const r=e.document.createElement("div");r.classList.add("square"),t.appendChild(r),n%65==0&&(n+=1),n%2==0?t.lastChild.classList.add("square-dark"):t.lastChild.classList.add("square-light")}}async addFrame(e,t){const n=this.win,r=document.createElement("div"),s=n.document.querySelector(".frame-wrapper"),a=n.document.querySelector(".frames");r.classList="frame-item",r.id=`frame-item${e}`,r.draggable=!0;const l=document.createElement("canvas");l.width=s.clientWidth,l.height=s.clientWidth,a.appendChild(r),l.id=`canvas${e}`,l.className="canvas-frame",r.appendChild(l);const d=document.createElement("div"),u=e>0?`<div class="delete-frame"><img class="delete-img" src="${o.a}"></div>`:"";d.innerHTML=`<div class="frame-number">${e}</div>${u}<div class="drag-frame"><img class="drag-img" src="${i.a}"></div><div class="copy-frame"><img class="copy-img" src="${c.a}"></div>`,r.appendChild(d),d.classList="instruments",d.id=`instruments${e}`,t.push(l)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});class r{constructor(e,t,n){this.colorLayer="",this.currentCanvas=e,this.canvasSize=n,this.currentFrame=t,this.currentColor=document.getElementById("first-color")}hexToRgb(e){this.test="";const t=e.match(/[a-f0-9]{2}/gi);return t&&3===t.length?t.map(e=>parseInt(e,16)):null}matchStartColor(e,t){const n=this.colorLayer.data[e],r=this.colorLayer.data[e+1],o=this.colorLayer.data[e+2],s=this.colorLayer.data[e+3];return n===t[0]&&r===t[1]&&o===t[2]&&s===t[3]}colorPixel(e){const t=this.hexToRgb(this.currentColor.value);this.colorLayer.data[e]=t[0],this.colorLayer.data[e+1]=t[1],this.colorLayer.data[e+2]=t[2],this.colorLayer.data[e+3]=255}colorFilling(e,t){this.test="";const n=this.currentCanvas.getContext("2d"),r=[[e,t]];this.colorLayer=n.getImageData(0,0,this.currentCanvas.width,this.currentCanvas.height);const o=n.getImageData(e,t,1,1).data;for(;r.length;){let e,t,n;const s=r.pop(),i=s[0];let a=s[1];for(e=4*Math.floor(a*this.currentCanvas.width+i);a>=0&&this.matchStartColor(e,o);)e-=4*this.currentCanvas.width,a-=1;for(e+=4*this.currentCanvas.width,++a,t=!1,n=!1;a<this.currentCanvas.height-1&&this.matchStartColor(e,o);)this.colorPixel(e),i>0&&(this.matchStartColor(e-4,o)?t||(r.push([i-1,a]),t=!0):t&&(t=!1)),i<this.currentCanvas.width-1&&(this.matchStartColor(e+4,o)?n||(r.push([i+1,a]),n=!0):n&&(n=!1)),e+=4*this.currentCanvas.width,a+=1}n.putImageData(this.colorLayer,0,0);const s=document.getElementById(`canvas${this.currentFrame}`),i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.drawImage(this.currentCanvas,0,0,s.width,s.height)}RGBToHex(e,t,n){this.test="";let r=e.toString(16),o=t.toString(16),s=n.toString(16);return 1===r.length&&(r=`0${e}`),1===o.length&&(o=`0${t}`),1===s.length&&(s=`0${n}`),`#${r}${o}${s}`}currentCanvasHandlers(){const e=this.currentCanvas.getContext("2d"),t=this.currentCanvas.getBoundingClientRect(),n=document.getElementById("img-pen"),r=document.getElementById("img-bucket"),o=document.createElement("canvas");o.width=640,o.height=640;const s=document.getElementById("coordinates");let i=!1,a=0,c=0,l=0,d=0;function u(n){let o=n.clientX-t.left,s=n.clientY-t.top;document.body.className.includes("cursor-bucket")&&(o+=r.width,s+=r.height);const i=e.getImageData(o,s,1,1).data;if(document.body.className.includes("cursor-color-picker")){const e=this.RGBToHex(i[0],i[1],i[2]);this.currentColor.value=e}else document.body.className.includes("cursor-bucket")&&this.colorFilling(o,s)}function h(r){if((document.body.className.includes("cursor-pen")||document.body.className.includes("cursor-eraser")||document.body.className.includes("cursor-line")||document.body.className.includes("cursor-rectangle"))&&(l=r.clientX-t.left,d=r.clientY-t.top+n.height,l=10*Math.floor(l/10),d=10*Math.floor(d/10),i=!0,document.body.className.includes("cursor-line")||document.body.className.includes("cursor-rectangle"))){a=l,c=d;const t=e.getImageData(0,0,640,640);o.getContext("2d").clearRect(0,0,640,640),o.getContext("2d").putImageData(t,0,0)}}function m(r){this.currentColor=document.getElementById("first-color");const u=64/this.canvasSize;if(document.body.className.includes("cursor-pen")||document.body.className.includes("cursor-eraser"))!0===i&&(e.beginPath(),e.rect(l,d,10*u,10*u),document.body.className.includes("cursor-pen")?(e.globalCompositeOperation="source-over",e.fillStyle=this.currentColor.value):document.body.className.includes("cursor-eraser")&&(e.globalCompositeOperation="destination-out",e.fillStyle="rgba(255,0,0,0.5);"),e.fill()),l=r.clientX-t.left,d=r.clientY-t.top+n.height,l=10*Math.floor(l/10),d=10*Math.floor(d/10);else if(document.body.className.includes("cursor-line")&&!0===i){l=r.clientX-t.left,d=r.clientY-t.top+n.height,l=10*Math.floor(l/10),d=10*Math.floor(d/10);const s=o.getContext("2d").getImageData(0,0,640,640);e.clearRect(0,0,640,640),e.putImageData(s,0,0),e.beginPath(),e.globalCompositeOperation="source-over",e.moveTo(a,c),e.lineWidth=640/this.canvasSize,e.strokeStyle=this.currentColor.value,e.lineTo(l,d),e.stroke()}else if(document.body.className.includes("cursor-rectangle")&&!0===i){l=r.clientX-t.left,d=r.clientY-t.top+n.height,l=10*Math.floor(l/10),d=10*Math.floor(d/10);const s=o.getContext("2d").getImageData(0,0,640,640);e.clearRect(0,0,640,640),e.putImageData(s,0,0),e.beginPath(),e.globalCompositeOperation="source-over",e.moveTo(a,c),e.lineWidth=640/this.canvasSize,e.strokeStyle=this.currentColor.value,e.strokeRect(Math.min(l,a),Math.min(d,c),Math.abs(l-a),Math.abs(d-c)),e.stroke()}const h=r.clientX-t.left,m=r.clientY-t.top;s.innerHTML=`X: ${h} Y: ${m}`}function f(){this.currentColor=document.getElementById("first-color");const t=64/this.canvasSize;document.body.className.includes("cursor-pen")||document.body.className.includes("cursor-eraser")?!0===i&&(e.beginPath(),e.rect(l,d,10*t,10*t),document.body.className.includes("cursor-pen")?(e.globalCompositeOperation="source-over",e.fillStyle=this.currentColor.value):(e.globalCompositeOperation="destination-out",e.fillStyle="rgba(255,0,0,0.5);"),e.fill()):document.body.className.includes("cursor-line")&&(e.strokeStyle=this.currentColor.value,e.fillStyle=this.currentColor.value,e.lineTo(l,d),e.closePath()),l=0,d=0,i=!1;const n=document.getElementById(`canvas${this.currentFrame}`),r=n.getContext("2d");r.clearRect(0,0,n.width,n.height),r.drawImage(this.currentCanvas,0,0,n.width,n.height)}this.currentCanvas.removeEventListener("click",u.bind(this)),this.currentCanvas.addEventListener("click",u.bind(this)),this.currentCanvas.removeEventListener("mousedown",h.bind(this)),this.currentCanvas.addEventListener("mousedown",h.bind(this)),this.currentCanvas.removeEventListener("mousemove",m.bind(this)),this.currentCanvas.addEventListener("mousemove",m.bind(this)),this.currentCanvas.removeEventListener("mouseup",f.bind(this)),this.currentCanvas.addEventListener("mouseup",f.bind(this))}}},function(e,t,n){var r;e.exports=function e(t,n,o){function s(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof r&&r;if(!c&&l)return r(a,!0);if(i)return i(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return s(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof r&&r,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,a,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(i(n=this._events[e]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(s(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,c=0;c<r;c++)l[c].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r,o,s,i,a;a=navigator.userAgent.toLowerCase(),i=navigator.platform.toLowerCase(),r=a.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],s="ie"===r[1]&&document.documentMode,(o={name:"version"===r[1]?r[3]:r[1],version:s||parseFloat("opera"===r[1]&&r[4]?r[4]:r[2]),platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":(a.match(/(?:webos|android)/)||i.match(/mac|win|linux/)||["other"])[0]}})[o.name]=!0,o[o.name+parseInt(o.version,10)]=!0,o.platform[o.platform.name]=!0,t.exports=o},{}],3:[function(e,t,n){var r,o,s,i={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},c=[].slice;r=e("events").EventEmitter,s=e("./browser.coffee"),o=function(e){var t,n;function r(e){var n,r,o;for(r in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),t)o=t[r],null==(n=this.options)[r]&&(n[r]=o)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,e),t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},n={delay:500,copy:!1},r.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},r.prototype.setOptions=function(e){var t,n,r;for(t in n=[],e)i.call(e,t)&&(r=e[t],n.push(this.setOption(t,r)));return n},r.prototype.addFrame=function(e,t){var r,o;for(o in null==t&&(t={}),(r={}).transparent=this.options.transparent,n)r[o]=t[o]||n[o];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!==ImageData&&e instanceof ImageData)r.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?r.data=this.getContextData(e):r.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?r.data=this.getImageData(e):r.image=e}return this.frames.push(r)},r.prototype.render=function(){var e,t,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,t,n;for(n=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)n.push(null);return n}.call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0,n=t;0<=n?e<n:e>n;0<=n?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},r.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},r.prototype.spawnWorkers=function(){var e,t,n,r;return e=Math.min(this.options.workers,this.frames.length),function(){n=[];for(var r=t=this.freeWorkers.length;t<=e?r<e:r>e;t<=e?r++:r--)n.push(r);return n}.apply(this).forEach((r=this,function(e){var t;return r.log("spawning worker "+e),(t=new Worker(r.options.workerScript)).onmessage=function(e){return r.activeWorkers.splice(r.activeWorkers.indexOf(t),1),r.freeWorkers.push(t),r.frameFinished(e.data)},r.freeWorkers.push(t)})),e},r.prototype.frameFinished=function(e){var t,n;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=1,n=this.freeWorkers.length;1<=n?t<n:t>n;1<=n?++t:--t)this.renderNextFrame();return a.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},r.prototype.finishRendering=function(){var e,t,n,r,o,s,i,a,c,l,d,u,h,m,f,p;for(a=0,m=this.imageParts,o=0,c=m.length;o<c;o++)t=m[o],a+=(t.data.length-1)*t.pageSize+t.cursor;for(a+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(a/1e3)+"kb"),e=new Uint8Array(a),u=0,f=this.imageParts,s=0,l=f.length;s<l;s++)for(t=f[s],p=t.data,n=i=0,d=p.length;i<d;n=++i)h=p[n],e.set(h,u),n===t.data.length-1?u+=t.cursor:u+=t.pageSize;return r=new Blob([e],{type:"image/gif"}),this.emit("finished",r,e)},r.prototype.renderNextFrame=function(){var e,t,n;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],n=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(n),n.postMessage(t)},r.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},r.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},r.prototype.getTask=function(e){var t,n;if(t=this.frames.indexOf(e),n={index:t,last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===s.name},null!=e.data)n.data=e.data;else if(null!=e.context)n.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");n.data=this.getImageData(e.image)}return n},r.prototype.log=function(){var e;if(e=1<=arguments.length?c.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},r}(r),t.exports=o},{"./browser.coffee":2,events:1}]},{},[3])(3)},,,function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(0)(!1);var r=n(15),o=r(n(16)),s=r(n(17)),i=r(n(18)),a=r(n(19)),c=r(n(20)),l=r(n(21)),d=r(n(22)),u=r(n(23));t.push([e.i,'@font-face {\n  font-family: "Maven Pro";\n  src: url('+o+");\n }\n\nhtml,body{\n  height:100%;\n  margin: 0;\n  background-color: #fff;\n  font-family: 'Maven Pro';\n}\n\nheader {\n  font-size: 40px;\n  background-color: rgba(223, 223, 223, 0.2);\n  padding: 5px;\n  text-align: center;\n}\n.left-panel-bg {\n  background-color: rgb(214, 214, 214);\n}\n\n.cursor-default {\n  cursor: default;\n}\n\n.cursor-bucket {\n  cursor: url("+s+"), auto;\n}\n.cursor-color-picker {\n  cursor: url("+i+"), auto;\n}\n.cursor-line {\n  cursor: url("+a+"), auto;\n}\n.cursor-rectangle {\n  cursor: url("+c+"), auto;\n}\n\n.cursor-pen {\n  cursor: url("+l+"), auto;\n}\n.cursor-eraser {\n  cursor: url("+d+"), auto;\n}\n\n.wrapper{\n  display: flex;\n  margin: 20px 0;\n  justify-content: center;\n}\n\n.left-panel {\n  flex-basis: 150px;\n  margin: 10px;\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\n}\n\n.tools {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n}\n\n.tools div.tool {\n  flex: 0 0 50%;\n  height: 30px;\n  padding: 10px 0;\n  text-align: center;\n  cursor: pointer;\n}\n\n.frame-wrapper {\n  flex-basis: 150px;\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\n  margin: 10px;\n}\n\n.canvas {\n  flex-basis: 640px;\n  margin: 10px;\n}\n\n.squares-background {\n  position: absolute;\n  width: 640px;\n  height: 640px;\n  font-size: 0;\n  z-index: 0;\n}\n\n.square {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n}\n\n.square-light {\n  background-color: rgba(202, 202, 202, 0.2);\n}\n\n.square-dark {\n  background-color: rgba(77, 77, 77, 0.2);\n}\n\n.square-mouseover {\n  background-color: rgb(77, 77, 77);\n}\n\n\n.player {\n  flex-basis: 300px;\n  margin: 10px;\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\n  text-align: center;\n}\n\n.square-box{\n  position: relative;\n  overflow: hidden;\n}\n\n\n.colors {\n  position: relative;\n  width: 98px;\n  height: 98px;\n  padding-left: 10px;\n}\n\n.color {\n  width: 44px;\n  height: 44px;\n  transition: .3s;\n  cursor: pointer;\n}\n\n.first-color {\n  position: relative;\n  z-index: 2;\n  margin-top: 10px;\n}\n\n.second-color {\n  position: absolute;\n  top: 40px;\n  left: 44px;\n}\n\n.left-panel-item {\n  display: flex;\n  width: 50%;\n  padding: 15px;\n  text-align: center;\n  box-sizing: border-box;\n  white-space: nowrap;\n}\n\n.frames {\n  position: relative;\n  height: auto;\n}\n\n.add-frame {\n  margin: 5px;\n  padding: 10px;\n  border: 1px solid grey;\n  text-align: center;\n  cursor: pointer;\n}\n\n.add-frame div {\n  display: inline-block;\n  margin-left: 5px;\n}\n\n.frame {\n  width: 100%;\n  margin-bottom: 5px;\n  border: 1px solid grey;\n}\n\ncanvas {\n  position: relative;\n  z-index: 0;\n}\n\n.canvas-size {\n  cursor: pointer;\n}\n\n.empty-canvas {\n  position: absolute;\n  width: 640px;\n  height: 640px;\n  z-index: 0;\n  visibility: hidden;\n}\n\n.instruments {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.frame-item {\n  position: relative;\n  cursor: pointer;\n}\n\n.mouseover-frame {\n  border: 2px solid grey;\n}\n\n.click-frame {\n  border: 2px solid rgb(255, 209, 5);\n}\n\n.instrument-hidden {\n  visibility: hidden;\n}\n\n.frame-number {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n}\n\n.delete-frame {\n  position: absolute;\n  top: 0;\n  right: 0px;\n  cursor: pointer;\n}\n\n.copy-frame {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  cursor: pointer;\n}\n\n.drag-frame {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  cursor: pointer;\n}\n\n.canvas-player {\n  position: unset;\n  width: 100%;\n}\n\n.canvas-main {\n  position: absolute;\n}\n\n.canvas-main1 {\n  z-index: 1;\n}\n\n.color-picker {\n  display: none;\n  }\n\n\n  .save-img {\n    margin: 15px;\n    cursor: pointer;\n  }\n\n  #canvas-player-wrapper:-webkit-full-screen {\n    background-color: #fff;\n  }\n\n.button-fullscreen {\n  display: block;\n  margin: 15px auto;\n  cursor: pointer;\n}\n\n.swap-color {\n  width: 32px;\n  height: 26px;\n  margin-top: 4px;\n  margin-left: 10px;\n  background: url("+u+") no-repeat;\n  background-size: 22px;\n  cursor: pointer;\n}\n\n.shortcuts {\n  font-size: 13px;\n  padding: 5px;\n}\n\n\n\n\n\n",""])},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){e.exports=n.p+"assets/ac039aee4ec69579a64cdd63ed4db625.ttf"},function(e,t,n){e.exports=n.p+"assets/ea1f8eb144c225e21de3d16cb6f9c725.png"},function(e,t,n){e.exports=n.p+"assets/a0ba653686984712732c14e4d90a686e.png"},function(e,t,n){e.exports=n.p+"assets/4a6b0911f25f8ca530c084d709c77e30.png"},function(e,t,n){e.exports=n.p+"assets/f2a525e3bd3b85f2022f05dca1f55351.png"},function(e,t,n){e.exports=n.p+"assets/3d21a55fcb55eeea25ef9537cd473453.png"},function(e,t,n){e.exports=n.p+"assets/d19fcdcff26fa3b8684463d274933ef0.png"},function(e,t,n){e.exports=n.p+"assets/3745121db96870b42522ac5b589ea796.png"},,function(e,t,n){"use strict";n.r(t);var r=n(8),o=n(9),s=n(10),i=n.n(s);n(13);new class{constructor(){this.win=window}async start(){const e=this.win,t=this;this.view=new r.default(e),this.view.init();const n=document.createElement("canvas");n.width=640,n.height=640;const s=e.document.getElementById("canvas-resize"),a=e.document.querySelector(".add-frame"),c=e.document.getElementById("canvas-player"),l=e.document.querySelector("div.canvas"),d=[],u=[],h=e.document.getElementById("save-img"),m=e.document.getElementsByClassName("canvas-size"),f=e.document.getElementById("first-color"),p=e.document.getElementById("range"),v=e.document.getElementById("canvas-player-wrapper"),g=e.document.getElementById("button-fullscreen"),y=e.document.getElementById("swap-color"),b=e.document.getElementById("first-color");let x,L=!1,E=0,w=1,C=5,k=e.document.getElementById("empty-canvas");const I=m[0][1];I.checked=!0;let N=Number(I.value),_=N,S=0,B=0;const $=e.document.getElementById("canvas-player").getContext("2d");this.tools=new o.default(k,w,N);const D=e.document.getElementById("tools");function R(n){const{target:r}=n;let o;_=N,r.options[r.options.selectedIndex].checked=!0,N=Number(r.value),t.tools.canvasSize=N,sessionStorage.setItem("canvasSize",N),u.forEach(t=>{const n=t.getContext("2d"),r=e.document.createElement("canvas");_/N>1?(o=n.getImageData(160,160,320,320),r.width=320,r.height=320):(o=n.getImageData(0,0,640,640),r.width=640,r.height=640);const s=_/N,i=r.getContext("2d");if(i.putImageData(o,0,0),s<1){const e=(640-640/(1/s))/2;n.clearRect(0,0,640,640),n.drawImage(r,e,e,640*s,640*s)}else n.clearRect(0,0,640,640),n.drawImage(r,0,0,320*s,320*s);i.clearRect(0,0,r.width,r.height)}),d.forEach((t,n)=>{const r=t.getContext("2d"),o=e.document.getElementById(`canvas-main${n+1}`);r.clearRect(0,0,t.width,t.height),r.drawImage(o,0,0,t.width,t.height)})}function M(t){let{target:n}=t;for(;!n.className.includes("tool");)n=n.parentNode;n.className.includes("bucket")?(e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-bucket")):n.className.includes("dropper")?(e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-color-picker")):n.className.includes("line")?(e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-line")):n.className.includes("rectangle")?(e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-rectangle")):n.className.includes("pen")?(e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-pen")):n.className.includes("eraser")&&(e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-eraser"))}function O(){d.forEach((e,t)=>{const n=e.nextElementSibling;n.childNodes[0].innerHTML=t+1,n.id=`instruments${t+1}`,e.closest(".frame-item").id=`frame-item${t+1}`,e.id=`canvas${t+1}`})}function A(n){if(1===d.length){const n=e.document.getElementsByClassName("frame-item");n[0].classList.add("click-frame"),w=1,t.tools.currentFrame=w,n[0].lastChild.childNodes.forEach(e=>{(e.className.includes("drag-frame")||e.className.includes("delete-frame"))&&e.classList.add("instrument-hidden")})}else d.forEach(e=>{e.parentNode.id===`frame-item${n}`?(e.parentNode.classList.add("click-frame"),e.parentNode.classList.add("mouseover-frame"),w=n,t.tools.currentFrame=w):(e.parentNode.classList.remove("click-frame"),e.parentNode.classList.remove("mouseover-frame")),e.parentNode.childNodes.forEach(e=>{e.className.includes("instruments")&&e.childNodes.forEach(e=>{(e.className.includes("drag-frame")||e.className.includes("delete-frame"))&&e.classList.remove("instrument-hidden")})})})}function T(){u.forEach(e=>{e!==k?(e.style.visibility="hidden",e.style.zIndex=0):(e.style.visibility="",e.style.zIndex=1)})}function F(e){S=0;const t=Math.floor(1e3/e);B&&clearInterval(B),B=setInterval(function(){S===u.length&&(S=0);const e=u[S];$.clearRect(0,0,c.width,c.height),$.drawImage(e,0,0,c.width,c.height),S+=1},t)}function j(n){let r;if(n)for(r=n.currentTarget;!r.classList.contains("frame-item");)r=r.parentNode;else r=e.document.getElementById(`frame-item${w}`);const o=e.document.getElementById(`canvas${r.id.slice(-1)}`);d.forEach((e,t)=>{e===o&&(d.splice(t,1),u.splice(t,1))}),r.parentNode.removeChild(r),O(),A(E-=1);const s=e.document.getElementById(`canvas-main${r.id.slice(-1)}`);l.removeChild(s),u.forEach((e,t)=>{e.id=`canvas-main${t+1}`}),k=e.document.getElementById(`canvas-main${E}`),t.tools.currentCanvas=k,T(),F(C),n.stopPropagation()}function U(n){let r=n.currentTarget;for(;!r.classList.contains("frame-item");)r=r.parentNode;if(A(r.id.slice(-1)),w=r.id.slice(-1),t.tools.currentFrame=w,k=e.document.getElementById(`canvas-main${r.id.slice(-1)}`),t.tools.currentCanvas=k,!k){(k=e.document.createElement("canvas")).className=`canvas-main canvas-main${r.id.slice(-1)}`,k.id=`canvas-main${r.id.slice(-1)}`,l.appendChild(k);const t=k.getContext("2d"),n=_/N;t.scale(n,n)}T(),t.tools.currentCanvasHandlers()}function z(e){const t=e.target.closest(".frame-item");x=t.id.slice(-1)}function P(e){e.preventDefault()}function q(t){t.preventDefault();const n=t.target.closest(".frame-item"),r=e.document.getElementById(`canvas${n.id.slice(-1)}`),o=e.document.getElementById(`canvas-main${n.id.slice(-1)}`),s=e.document.getElementById(`canvas${x}`),i=e.document.getElementById(`canvas-main${x}`),a=e.document.getElementById(`frame-item${x}`);d[r.id.slice(-1)-1]=s,d[s.id.slice(-1)-1]=r,u[o.id.slice(-1)-1]=i,u[i.id.slice(-1)-1]=o,o.id=`canvas-main${x}`,i.id=`canvas-main${n.id.slice(-1)}`;const c=e.document.createElement("span");c.className="hide",n.before(c),a.before(n),c.replaceWith(a),O()}function W(){e.document.querySelectorAll(".delete-img").forEach(e=>{function t(){e.style.backgroundColor="rgb(214, 214, 214)"}function n(){e.style.backgroundColor=""}e.removeEventListener("click",j),e.addEventListener("click",j),e.removeEventListener("mouseenter",t),e.addEventListener("mouseenter",t),e.removeEventListener("mouseleave",n),e.addEventListener("mouseleave",n)}),e.document.querySelectorAll(".drag-img").forEach(e=>{function t(){e.style.backgroundColor="rgb(214, 214, 214)"}function n(){e.style.backgroundColor=""}e.removeEventListener("dragstart",z),e.removeEventListener("dragover",P),e.removeEventListener("drop",q),e.addEventListener("dragstart",z),e.addEventListener("dragover",P),e.addEventListener("drop",q),e.removeEventListener("mouseenter",t),e.addEventListener("mouseenter",t),e.removeEventListener("mouseleave",n),e.addEventListener("mouseleave",n)})}function K(n){let r;if(E+=1,n)for(r=n.currentTarget;!r.classList.contains("frame-item");)r=r.parentNode;else r=e.document.getElementById(`frame-item${w}`);const o=r.parentNode,s=r.cloneNode(!0);o.appendChild(s),s.id=`frame-item${E}`;const i=s.getElementsByClassName("instruments")[0];i.id=`instruments${E}`,i.childNodes[0].innerHTML=E,i.getElementsByClassName("copy-img")[0].style.backgroundColor="";const a=r.getElementsByClassName("canvas-frame")[0],c=s.getElementsByClassName("canvas-frame")[0];c.id=`canvas${E}`,c.getContext("2d").drawImage(a,0,0),d.push(c),A(E);const h=e.document.getElementById(`canvas-main${r.id.slice(-1)}`).cloneNode();h.getContext("2d").drawImage(e.document.getElementById(`canvas-main${r.id.slice(-1)}`),0,0),h.id=`canvas-main${E}`,h.className.replace(`/ *\b${r.id.slice(-1)}\b/g`,E),l.appendChild(h),k=h,t.tools.currentCanvas=k,u.push(h),T(),n.stopPropagation(),e.document.querySelectorAll(".copy-img").forEach(e=>{function t(){e.style.backgroundColor="rgb(214, 214, 214)"}function n(){e.style.backgroundColor=""}e.removeEventListener("click",K),e.addEventListener("click",K),e.removeEventListener("mouseenter",t),e.addEventListener("mouseenter",t),e.removeEventListener("mouseleave",n),e.addEventListener("mouseleave",n)}),e.document.querySelectorAll(".frame-item").forEach(e=>{function t(){e.classList.add("mouseover-frame")}function n(){e.classList.remove("mouseover-frame")}e.removeEventListener("click",U),e.addEventListener("click",U),e.removeEventListener("mouseenter",t),e.addEventListener("mouseenter",t),e.removeEventListener("mouseleave",n),e.addEventListener("mouseleave",n)}),W()}function H(){v.requestFullscreen(),L=!0}function G(){L?(c.style.width="640px",c.style.height="640px",L=!1):(c.style.width="100%",c.style.height=`${c.clientWidth}px`,L=!1)}function X(){C=p.value,F(Number(C))}function Y(){c.style.height=`${c.clientWidth}px`,E+=1,t.view.addFrame(E,d),A(E),(k=e.document.createElement("canvas")).className=`canvas-main canvas-main${E}`,k.id=`canvas-main${E}`,k.style.zIndex=1,k.width=640,k.height=640,t.tools.currentCanvas=k,l.appendChild(k),u.push(k),T(),F(5),t.tools.currentCanvas=k,t.tools.currentCanvasHandlers(),e.document.querySelectorAll(".copy-img").forEach(e=>{function t(){e.style.backgroundColor="rgb(214, 214, 214)"}function n(){e.style.backgroundColor=""}e.removeEventListener("click",K),e.addEventListener("click",K),e.removeEventListener("mouseenter",t),e.addEventListener("mouseenter",t),e.removeEventListener("mouseleave",n),e.addEventListener("mouseleave",n)}),e.document.querySelectorAll(".frame-item").forEach(e=>{function t(){e.classList.add("mouseover-frame")}function n(){e.classList.remove("mouseover-frame")}e.removeEventListener("click",U),e.addEventListener("click",U),e.removeEventListener("mouseenter",t),e.addEventListener("mouseenter",t),e.removeEventListener("mouseleave",n),e.addEventListener("mouseleave",n)}),W()}function J(){a.style.border="3px solid grey"}function V(){a.style.border="1px solid grey"}function Q(e){e.target.style.backgroundColor="rgb(214, 214, 214)"}function Z(e){e.target.style.backgroundColor=""}function ee(){const t=new i.a({workers:2,quality:10,workerScript:"export-worker.bundle.js",width:640,height:640});u.forEach(e=>{t.addFrame(e,{delay:200})}),t.on("finished",t=>{!function(t,n){const r=e.document.createElement("a");e.document.body.appendChild(r),r.style="display: none";const o=e.URL.createObjectURL(t);r.href=o,r.download=n,r.click(),e.URL.revokeObjectURL(o)}(t,"animation.gif")}),t.render()}function te(t){return t.shiftKey&&t.keyCode==="A".charCodeAt(0)?(t.preventDefault(),K(),!1):t.shiftKey&&t.keyCode==="C".charCodeAt(0)?(t.preventDefault(),K(),!1):t.shiftKey&&t.keyCode==="D".charCodeAt(0)?(t.preventDefault(),j(),!1):t.ctrlKey&&t.keyCode==="G".charCodeAt(0)?(t.preventDefault(),h.focus(),h.click(),!1):t.ctrlKey&&t.keyCode==="R".charCodeAt(0)?(t.preventDefault(),p.focus(),!1):t.ctrlKey&&t.keyCode==="S".charCodeAt(0)?(t.preventDefault(),m[0].focus(),!1):t.ctrlKey&&t.keyCode==="L".charCodeAt(0)?(t.preventDefault(),e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-line"),!1):t.ctrlKey&&t.keyCode==="V".charCodeAt(0)?(t.preventDefault(),e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-rectangle"),!1):t.ctrlKey&&t.keyCode==="B".charCodeAt(0)?(t.preventDefault(),e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-bucket"),!1):t.ctrlKey&&t.keyCode==="C".charCodeAt(0)?(t.preventDefault(),e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-color-picker"),!1):t.ctrlKey&&t.keyCode==="P".charCodeAt(0)?(t.preventDefault(),e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-pen"),!1):!(!t.ctrlKey||t.keyCode!=="E".charCodeAt(0)||(t.preventDefault(),e.document.body.classList.remove("cursor-bucket","cursor-line","cursor-color-picker","cursor-rectangle","cursor-pen","cursor-eraser"),e.document.body.classList.add("cursor-eraser"),1))}function ne(){const t=e.document.getElementById("first-color"),n=e.document.getElementById("second-color"),r=t.id,o=n.id,s=t.parentNode,i=n.parentNode;t.classList.remove("first-color"),t.classList.add("second-color"),t.id=o,n.classList.remove("second-color"),n.classList.add("first-color"),n.id=r,i.appendChild(t),i.removeChild(n),s.appendChild(n),s.removeChild(t),sessionStorage.setItem("currentColor",b.value)}m[0][1].selected=!0,s.removeEventListener("change",R),s.addEventListener("change",R),g.removeEventListener("click",H),g.addEventListener("click",H),e.document.removeEventListener("fullscreenchange",G),e.document.addEventListener("fullscreenchange",G),p.removeEventListener("input",X),p.addEventListener("input",X),Y(),D.removeEventListener("mousedown",M),D.addEventListener("mousedown",M),D.addEventListener("mouseover",function(e){let{target:t}=e;if(t){for(;!t.className.includes("tool");)t=t.parentNode;t.classList.add("left-panel-bg")}}),D.addEventListener("mouseout",function(e){let{target:t}=e;for(;!t.className.includes("tool");)t=t.parentNode;t.classList.remove("left-panel-bg")}),a.removeEventListener("click",Y),a.addEventListener("click",Y),a.removeEventListener("mouseenter",J),a.addEventListener("mouseenter",J),a.removeEventListener("mouseleave",V),a.addEventListener("mouseleave",V),h.removeEventListener("mouseover",Q),h.addEventListener("mouseover",Q),h.removeEventListener("mouseout",Z),h.addEventListener("mouseout",Z),h.removeEventListener("click",ee),h.addEventListener("click",ee),e.document.removeEventListener("keydown",te),e.document.addEventListener("keydown",te),y.removeEventListener("click",ne),y.addEventListener("click",ne),b.addEventListener("click",()=>{sessionStorage.setItem("currentColor",f)})}}(window).start()}]);
//# sourceMappingURL=view-init.bundle.js.map