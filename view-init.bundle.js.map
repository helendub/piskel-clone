{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/images/delete.png","webpack:///./src/views/images/move-arrows.png","webpack:///./src/views/images/copy.png","webpack:///./src/views/view.js","webpack:///./src/components/tools.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/views/export/gif.js","webpack:///./src/views/view.css?b15d","webpack:///./src/views/view.css","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./src/views/fonts/MavenPro-Regular.ttf","webpack:///./src/views/images/bucket.png","webpack:///./src/views/images/color-drop.png","webpack:///./src/views/images/straight-horizontal-line.png","webpack:///./src/views/images/rectangle.png","webpack:///./src/views/images/pen.png","webpack:///./src/views/images/double-sided-eraser.png","webpack:///./src/views/images/color-swap.png","webpack:///./src/views/view-init.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","View","_images_delete_png__WEBPACK_IMPORTED_MODULE_0__","_images_delete_png__WEBPACK_IMPORTED_MODULE_0___default","_images_move_arrows_png__WEBPACK_IMPORTED_MODULE_1__","_images_move_arrows_png__WEBPACK_IMPORTED_MODULE_1___default","_images_copy_png__WEBPACK_IMPORTED_MODULE_2__","_images_copy_png__WEBPACK_IMPORTED_MODULE_2___default","constructor","win","this","[object Object]","that","squares","document","getElementById","bladskijJS","square","createElement","classList","add","appendChild","lastChild","count","domFrames","frameItem","frameWrapper","querySelector","framesDiv","id","draggable","newFrame","width","clientWidth","height","className","instruments","iconDelete","deletIcon","innerHTML","dragIcon","copyIcon","push","Tools","currentCanvas","currentFrame","canvasSize","colorLayer","currentColor","hexToRgb","hex","test","res","match","length","map","v","parseInt","matchStartColor","pixelPos","startPixel","data","g","b","a","colorPixel","rgba","colorFilling","startX","startY","context","getContext","pixelStack","getImageData","pixelData","reachLeft","reachRight","newPos","pop","coordX","coordY","Math","floor","putImageData","currentFr","currentFrCanvCntx","clearRect","drawImage","RGBToHex","rColor","toString","gColor","bColor","currentCanvasHandlers","rect","getBoundingClientRect","imgPen","imgBucket","tempCanvas","coordinates","isDrawing","mouseDownX","mouseDownY","x","y","currentCanvasClick","e","clientX","left","clientY","top","body","includes","currentcanvasMouseDown","imgData","currentCanvasMouseMove","scale","beginPath","globalCompositeOperation","fillStyle","fill","moveTo","lineWidth","strokeStyle","lineTo","stroke","strokeRect","min","abs","canvasMouseup","closePath","currentFrameCanvas","currentFrameCanvasContext","removeEventListener","addEventListener","useSourceMap","list","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","_i","fn","memo","stylesInDom","isOldIE","window","all","atob","apply","arguments","getElement","target","parent","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","undefined","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","transform","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","require","u","f","code","1","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","er","handler","len","args","listeners","error","err","Array","slice","addListener","listener","newListener","warned","console","trace","on","once","fired","removeListener","position","removeAllListeners","listenerCount","evlistener","emitter","2","UA","browser","platform","ua","navigator","userAgent","toLowerCase","documentMode","version","parseFloat","3","GIF","hasProp","superClass","defaults","frameDefaults","running","frames","freeWorkers","activeWorkers","setOptions","child","ctor","__super__","extend","workerScript","workers","repeat","background","quality","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","render","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","_this","Worker","onmessage","event","frameFinished","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","task","getTask","postMessage","ctx","setFill","fillRect","last","canTransfer","./browser.coffee","events","hmr","locals","getUrl","___CSS_LOADER_URL___0___","___CSS_LOADER_URL___1___","___CSS_LOADER_URL___2___","___CSS_LOADER_URL___3___","___CSS_LOADER_URL___4___","___CSS_LOADER_URL___5___","___CSS_LOADER_URL___6___","___CSS_LOADER_URL___7___","url","needQuotes","newWindow","view","init","canvasResize","canvasPlayer","canvasDiv","domCanvas","exportImg","selectCanvasSize","getElementsByClassName","rangeSizeCanvas","canvasPlayerWrapper","buttonFullScreen","swapColor","firstColor","dragedFrameId","isFullScreen","fps","currentOption","checked","Number","previousCanvasSize","cnt","intervalID","canvasPlayerContext","tools","toolsdiv","canvasResizeChange","selectedIndex","sessionStorage","setItem","canvasContext","newCanvas","contextNewCanvas","pos","frameContext","canvasforFrame","leftPanelEventClick","evt","updateFrames","nextElementSibling","closest","checkFrames","newFrameNumber","oneFrame","elem","changeMainCanvasVisibility","visibility","zIndex","startAnimation","numberFrames","intensity","clearInterval","setInterval","canvas","deleteHandler","currentTarget","contains","removeCanvas","canvasRemove","stopPropagation","changeHandler","currentCanvasContext","drag","allowDrop","preventDefault","drop","dropTarget","dropCanvas","dropMainCanvas","dragCanvas","dragMainCanvas","dragTarget","tmp","replaceWith","toolsHandler","querySelectorAll","mouseenter","backgroundColor","mouseleave","elMouseenter","elMouseLeave","copyHandler","cloneFrame","cloneNode","instrument","curFrameCanvas","cloneframeCanvas","copyCanvas","elMouseEnter","elMouseleave","canvasPlayerClick","requestFullscreen","exitFullScreen","rangeSizeCanvasInput","plusFrame","addFrameMouseEnter","border","addFrameMouseleave","exportImgMouseOver","exportImgMouseOut","exportImgClick","gif","fileName","download","click","saveData","keyDown","shiftKey","keyCode","charCodeAt","ctrlKey","focus","swapColors","firstClr","secondClr","firstId","secondId","parenFirstColor","parenSecondColor","selected","start"],"mappings":"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","file":"view-init.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","module.exports = __webpack_public_path__ + \"assets/02c6f66729d2060ac8345c61623c1492.png\";","module.exports = __webpack_public_path__ + \"assets/5ff12bc30fe2412f1408e4d51aeb307f.png\";","module.exports = __webpack_public_path__ + \"assets/4c51d4c79e9353afcb9c6de4a52fa4e6.png\";","// import './view.css';\nimport deletIcon from './images/delete.png';\nimport dragIcon from './images/move-arrows.png';\nimport copyIcon from './images/copy.png';\n\nexport default class View {\n  constructor(win) {\n    this.win = win;\n  }\n\n  // function for creating checked background (64x64 squares, 1 square = 10px) under the main canvas\n  async init() {\n    const that = this.win;\n    const squares = that.document.getElementById('squares-background');\n    this.bladskijJS = '';\n    for (let i = 0; i < 4160; i += 1) {\n      const square = that.document.createElement('div');\n      square.classList.add('square');\n      squares.appendChild(square);\n      if (i % 65 === 0) {\n        i += 1;\n      }\n      if (i % 2 === 0) {\n        squares.lastChild.classList.add('square-dark');\n      } else {\n        squares.lastChild.classList.add('square-light');\n      }\n    }\n  }\n\n  // function for adding new frame\n  async addFrame(count, domFrames) {\n    const that = this.win;\n    const frameItem = document.createElement('div');\n    const frameWrapper = that.document.querySelector('.frame-wrapper');\n    const framesDiv = that.document.querySelector('.frames');\n    frameItem.classList = 'frame-item';\n    frameItem.id = `frame-item${count}`;\n    frameItem.draggable = true;\n    const newFrame = document.createElement('canvas');\n    newFrame.width = frameWrapper.clientWidth;\n    newFrame.height = frameWrapper.clientWidth;\n    framesDiv.appendChild(frameItem);\n    newFrame.id = `canvas${count}`;\n    newFrame.className = 'canvas-frame';\n\n    frameItem.appendChild(newFrame);\n\n    const instruments = document.createElement('div');\n    const iconDelete = (count > 0) ? (`<div class=\"delete-frame\"><img class=\"delete-img\" src=\"${deletIcon}\"></div>`) : '';\n    instruments.innerHTML = `<div class=\"frame-number\">${count}</div>${iconDelete}<div class=\"drag-frame\"><img class=\"drag-img\" src=\"${dragIcon}\"></div><div class=\"copy-frame\"><img class=\"copy-img\" src=\"${copyIcon}\"></div>`;\n    frameItem.appendChild(instruments);\n    instruments.classList = 'instruments';\n    instruments.id = `instruments${count}`;\n\n    domFrames.push(newFrame);\n  }\n}\n","/* eslint-disable linebreak-style */\n/* eslint-disable no-plusplus */\n/* eslint-disable max-len */\n/* eslint-disable prefer-destructuring */\nexport default class Tools {\n  constructor(currentCanvas, currentFrame, canvasSize) {\n    this.colorLayer = '';\n    this.currentCanvas = currentCanvas;\n    this.canvasSize = canvasSize;\n    this.currentFrame = currentFrame;\n    this.currentColor = document.getElementById('first-color');\n  }\n\n  hexToRgb(hex) {\n    this.test = '';\n    const res = hex.match(/[a-f0-9]{2}/gi);\n    return res && res.length === 3\n      ? res.map(v => parseInt(v, 16))\n      : null;\n  }\n\n  matchStartColor(pixelPos, startPixel) {\n    const r = this.colorLayer.data[pixelPos];\n    const g = this.colorLayer.data[pixelPos + 1];\n    const b = this.colorLayer.data[pixelPos + 2];\n    const a = this.colorLayer.data[pixelPos + 3];\n    return (r === startPixel[0] && g === startPixel[1] && b === startPixel[2] && a === startPixel[3]);\n  }\n\n  colorPixel(pixelPos) {\n    const rgba = this.hexToRgb(this.currentColor.value);\n    this.colorLayer.data[pixelPos] = rgba[0];\n    this.colorLayer.data[pixelPos + 1] = rgba[1];\n    this.colorLayer.data[pixelPos + 2] = rgba[2];\n    this.colorLayer.data[pixelPos + 3] = 255;\n  }\n\n\n  colorFilling(startX, startY) {\n    this.test = '';\n    const context = this.currentCanvas.getContext('2d');\n    const pixelStack = [[startX, startY]];\n    this.colorLayer = context.getImageData(0, 0, this.currentCanvas.width, this.currentCanvas.height);\n    const pixelData = context.getImageData(startX, startY, 1, 1).data;\n\n    while (pixelStack.length) {\n      let pixelPos; let reachLeft; let reachRight;\n      const newPos = pixelStack.pop();\n      const coordX = newPos[0];\n      let coordY = newPos[1];\n\n      pixelPos = Math.floor((coordY * this.currentCanvas.width + coordX)) * 4;\n      while ((coordY >= 0) && this.matchStartColor(pixelPos, pixelData)) {\n        pixelPos -= this.currentCanvas.width * 4;\n        coordY -= 1;\n      }\n      pixelPos += this.currentCanvas.width * 4;\n      ++coordY;\n      reachLeft = false;\n      reachRight = false;\n      while ((coordY < (this.currentCanvas.height - 1)) && this.matchStartColor(pixelPos, pixelData)) {\n        this.colorPixel(pixelPos);\n\n        if (coordX > 0) {\n          if (this.matchStartColor(pixelPos - 4, pixelData)) {\n            if (!reachLeft) {\n              pixelStack.push([coordX - 1, coordY]);\n              reachLeft = true;\n            }\n          } else if (reachLeft) {\n            reachLeft = false;\n          }\n        }\n\n        if (coordX < (this.currentCanvas.width - 1)) {\n          if (this.matchStartColor(pixelPos + 4, pixelData)) {\n            if (!reachRight) {\n              pixelStack.push([coordX + 1, coordY]);\n              reachRight = true;\n            }\n          } else if (reachRight) {\n            reachRight = false;\n          }\n        }\n\n        pixelPos += this.currentCanvas.width * 4;\n        coordY += 1;\n      }\n    }\n    context.putImageData(this.colorLayer, 0, 0);\n    const currentFr = document.getElementById(`canvas${this.currentFrame}`);\n    const currentFrCanvCntx = currentFr.getContext('2d');\n    currentFrCanvCntx.clearRect(0, 0, currentFr.width, currentFr.height);\n    currentFrCanvCntx.drawImage(this.currentCanvas, 0, 0, currentFr.width, currentFr.height);\n  }\n\n  RGBToHex(r, g, b) {\n    this.test = '';\n    let rColor = r.toString(16);\n    let gColor = g.toString(16);\n    let bColor = b.toString(16);\n\n    if (rColor.length === 1) { rColor = `0${r}`; }\n    if (gColor.length === 1) { gColor = `0${g}`; }\n    if (bColor.length === 1) { bColor = `0${b}`; }\n\n    return `#${rColor}${gColor}${bColor}`;\n  }\n\n  currentCanvasHandlers() {\n    const context = this.currentCanvas.getContext('2d');\n    const rect = this.currentCanvas.getBoundingClientRect();\n    const imgPen = document.getElementById('img-pen');\n    const imgBucket = document.getElementById('img-bucket');\n    const tempCanvas = document.createElement('canvas');\n    tempCanvas.width = 640;\n    tempCanvas.height = 640;\n    const coordinates = document.getElementById('coordinates');\n    let isDrawing = false;\n    let mouseDownX = 0;\n    let mouseDownY = 0;\n    let x = 0;\n    let y = 0;\n\n    function currentCanvasClick(e) {\n      let startX = e.clientX - rect.left;\n      let startY = e.clientY - rect.top;\n\n      if (document.body.className.includes('cursor-bucket')) {\n        startX += imgBucket.width;\n        startY += imgBucket.height;\n      }\n      const pixelData = context.getImageData(startX, startY, 1, 1).data;\n\n      if (document.body.className.includes('cursor-color-picker')) {\n        const hex = this.RGBToHex(pixelData[0], pixelData[1], pixelData[2]);\n        this.currentColor.value = hex;\n      } else if (document.body.className.includes('cursor-bucket')) {\n        this.colorFilling(startX, startY);\n      }\n    }\n    this.currentCanvas.removeEventListener('click', currentCanvasClick.bind(this));\n    this.currentCanvas.addEventListener('click', currentCanvasClick.bind(this));\n\n    // Add the event listeners for mousedown, mousemove, and mouseup\n    function currentcanvasMouseDown(e) {\n      if (document.body.className.includes('cursor-pen') || document.body.className.includes('cursor-eraser') || document.body.className.includes('cursor-line') || document.body.className.includes('cursor-rectangle')) {\n        x = e.clientX - rect.left;\n        y = e.clientY - rect.top + imgPen.height;\n        x = Math.floor(x / 10) * 10;\n        y = Math.floor(y / 10) * 10;\n        isDrawing = true;\n        if (document.body.className.includes('cursor-line')\n          || document.body.className.includes('cursor-rectangle')\n        ) {\n          mouseDownX = x;\n          mouseDownY = y;\n          const imgData = context.getImageData(0, 0, 640, 640);\n          tempCanvas.getContext('2d').clearRect(0, 0, 640, 640);\n          tempCanvas.getContext('2d').putImageData(imgData, 0, 0);\n        }\n      }\n    }\n    this.currentCanvas.removeEventListener('mousedown', currentcanvasMouseDown.bind(this));\n    this.currentCanvas.addEventListener('mousedown', currentcanvasMouseDown.bind(this));\n\n    function currentCanvasMouseMove(e) {\n      this.currentColor = document.getElementById('first-color');\n      const scale = 64 / this.canvasSize;\n      // context = this.currentCanvas.getContext('2d');\n      if (document.body.className.includes('cursor-pen') || document.body.className.includes('cursor-eraser')) {\n        if (isDrawing === true) {\n          context.beginPath();\n          context.rect(x, y, 10 * scale, 10 * scale);\n          if (document.body.className.includes('cursor-pen')) {\n            context.globalCompositeOperation = 'source-over';\n            context.fillStyle = this.currentColor.value;\n          } else if (document.body.className.includes('cursor-eraser')) {\n            context.globalCompositeOperation = 'destination-out';\n            context.fillStyle = 'rgba(255,0,0,0.5);';\n          }\n          context.fill();\n        }\n        x = e.clientX - rect.left;\n        y = e.clientY - rect.top + imgPen.height;\n        x = Math.floor(x / 10) * 10;\n        y = Math.floor(y / 10) * 10;\n      } else if (document.body.className.includes('cursor-line') && isDrawing === true) {\n        x = e.clientX - rect.left;\n        y = e.clientY - rect.top + imgPen.height;\n        x = Math.floor(x / 10) * 10;\n        y = Math.floor(y / 10) * 10;\n        const imgData = tempCanvas.getContext('2d').getImageData(0, 0, 640, 640);\n        context.clearRect(0, 0, 640, 640);\n        context.putImageData(imgData, 0, 0);\n        context.beginPath();\n        context.globalCompositeOperation = 'source-over';\n        context.moveTo(mouseDownX, mouseDownY);\n        context.lineWidth = 640 / this.canvasSize;\n        context.strokeStyle = this.currentColor.value;\n        context.lineTo(x, y);\n        context.stroke();\n      } else if (document.body.className.includes('cursor-rectangle') && isDrawing === true) {\n        x = e.clientX - rect.left;\n        y = e.clientY - rect.top + imgPen.height;\n        x = Math.floor(x / 10) * 10;\n        y = Math.floor(y / 10) * 10;\n        const imgData = tempCanvas.getContext('2d').getImageData(0, 0, 640, 640);\n        context.clearRect(0, 0, 640, 640);\n        context.putImageData(imgData, 0, 0);\n        context.beginPath();\n        context.globalCompositeOperation = 'source-over';\n        context.moveTo(mouseDownX, mouseDownY);\n        context.lineWidth = 640 / this.canvasSize;\n        context.strokeStyle = this.currentColor.value;\n        context.strokeRect(Math.min(x, mouseDownX), Math.min(y, mouseDownY), Math.abs(x - mouseDownX), Math.abs(y - mouseDownY));\n        context.stroke();\n      }\n      const coordX = e.clientX - rect.left;\n      const coordY = e.clientY - rect.top;\n      coordinates.innerHTML = `X: ${coordX} Y: ${coordY}`;\n    }\n    this.currentCanvas.removeEventListener('mousemove', currentCanvasMouseMove.bind(this));\n    this.currentCanvas.addEventListener('mousemove', currentCanvasMouseMove.bind(this));\n\n    function canvasMouseup() {\n      this.currentColor = document.getElementById('first-color');\n      const scale = 64 / this.canvasSize;\n      if (document.body.className.includes('cursor-pen') || document.body.className.includes('cursor-eraser')) {\n        if (isDrawing === true) {\n          context.beginPath();\n          context.rect(x, y, 10 * scale, 10 * scale);\n          if (document.body.className.includes('cursor-pen')) {\n            context.globalCompositeOperation = 'source-over';\n            context.fillStyle = this.currentColor.value;\n          } else {\n            context.globalCompositeOperation = 'destination-out';\n            context.fillStyle = 'rgba(255,0,0,0.5);';\n          }\n          context.fill();\n        }\n      } else if (document.body.className.includes('cursor-line')) {\n        context.strokeStyle = this.currentColor.value;\n        context.fillStyle = this.currentColor.value;\n        context.lineTo(x, y);\n        context.closePath();\n      }\n      x = 0;\n      y = 0;\n      isDrawing = false;\n      const currentFrameCanvas = document.getElementById(`canvas${this.currentFrame}`);\n      const currentFrameCanvasContext = currentFrameCanvas.getContext('2d');\n      currentFrameCanvasContext.clearRect(0, 0, currentFrameCanvas.width, currentFrameCanvas.height);\n      currentFrameCanvasContext.drawImage(this.currentCanvas, 0, 0, currentFrameCanvas.width, currentFrameCanvas.height);\n    }\n\n    this.currentCanvas.removeEventListener('mouseup', canvasMouseup.bind(this));\n    this.currentCanvas.addEventListener('mouseup', canvasMouseup.bind(this));\n  }\n}\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GIF=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./view.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./view.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./view.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar getUrl = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"./fonts/MavenPro-Regular.ttf\"));\nvar ___CSS_LOADER_URL___1___ = getUrl(require(\"./images/bucket.png\"));\nvar ___CSS_LOADER_URL___2___ = getUrl(require(\"./images/color-drop.png\"));\nvar ___CSS_LOADER_URL___3___ = getUrl(require(\"./images/straight-horizontal-line.png\"));\nvar ___CSS_LOADER_URL___4___ = getUrl(require(\"./images/rectangle.png\"));\nvar ___CSS_LOADER_URL___5___ = getUrl(require(\"./images/pen.png\"));\nvar ___CSS_LOADER_URL___6___ = getUrl(require(\"./images/double-sided-eraser.png\"));\nvar ___CSS_LOADER_URL___7___ = getUrl(require(\"./images/color-swap.png\"));\n// Module\nexports.push([module.id, \"@font-face {\\n  font-family: \\\"Maven Pro\\\";\\n  src: url(\" + ___CSS_LOADER_URL___0___ + \");\\n }\\n\\nhtml,body{\\n  height:100%;\\n  margin: 0;\\n  background-color: #fff;\\n  font-family: 'Maven Pro';\\n}\\n\\nheader {\\n  font-size: 40px;\\n  background-color: rgba(223, 223, 223, 0.2);\\n  padding: 5px;\\n  text-align: center;\\n}\\n.left-panel-bg {\\n  background-color: rgb(214, 214, 214);\\n}\\n\\n.cursor-default {\\n  cursor: default;\\n}\\n\\n.cursor-bucket {\\n  cursor: url(\" + ___CSS_LOADER_URL___1___ + \"), auto;\\n}\\n.cursor-color-picker {\\n  cursor: url(\" + ___CSS_LOADER_URL___2___ + \"), auto;\\n}\\n.cursor-line {\\n  cursor: url(\" + ___CSS_LOADER_URL___3___ + \"), auto;\\n}\\n.cursor-rectangle {\\n  cursor: url(\" + ___CSS_LOADER_URL___4___ + \"), auto;\\n}\\n\\n.cursor-pen {\\n  cursor: url(\" + ___CSS_LOADER_URL___5___ + \"), auto;\\n}\\n.cursor-eraser {\\n  cursor: url(\" + ___CSS_LOADER_URL___6___ + \"), auto;\\n}\\n\\n.wrapper{\\n  display: flex;\\n  margin: 20px 0;\\n  justify-content: center;\\n}\\n\\n.left-panel {\\n  flex-basis: 150px;\\n  margin: 10px;\\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\\n}\\n\\n.tools {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: stretch;\\n}\\n\\n.tools div.tool {\\n  flex: 0 0 50%;\\n  height: 30px;\\n  padding: 10px 0;\\n  text-align: center;\\n  cursor: pointer;\\n}\\n\\n.frame-wrapper {\\n  flex-basis: 150px;\\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\\n  margin: 10px;\\n}\\n\\n.canvas {\\n  flex-basis: 640px;\\n  margin: 10px;\\n}\\n\\n.squares-background {\\n  position: absolute;\\n  width: 640px;\\n  height: 640px;\\n  font-size: 0;\\n  z-index: 0;\\n}\\n\\n.square {\\n  display: inline-block;\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.square-light {\\n  background-color: rgba(202, 202, 202, 0.2);\\n}\\n\\n.square-dark {\\n  background-color: rgba(77, 77, 77, 0.2);\\n}\\n\\n.square-mouseover {\\n  background-color: rgb(77, 77, 77);\\n}\\n\\n\\n.player {\\n  flex-basis: 300px;\\n  margin: 10px;\\n  box-shadow: 0px 5px 9px 0px rgba(0,0,0,0.5);\\n  text-align: center;\\n}\\n\\n.square-box{\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\n\\n.colors {\\n  position: relative;\\n  width: 98px;\\n  height: 98px;\\n  padding-left: 10px;\\n}\\n\\n.color {\\n  width: 44px;\\n  height: 44px;\\n  transition: .3s;\\n  cursor: pointer;\\n}\\n\\n.first-color {\\n  position: relative;\\n  z-index: 2;\\n  margin-top: 10px;\\n}\\n\\n.second-color {\\n  position: absolute;\\n  top: 40px;\\n  left: 44px;\\n}\\n\\n.left-panel-item {\\n  display: flex;\\n  width: 50%;\\n  padding: 15px;\\n  text-align: center;\\n  box-sizing: border-box;\\n  white-space: nowrap;\\n}\\n\\n.frames {\\n  position: relative;\\n  height: auto;\\n}\\n\\n.add-frame {\\n  margin: 5px;\\n  padding: 10px;\\n  border: 1px solid grey;\\n  text-align: center;\\n  cursor: pointer;\\n}\\n\\n.add-frame div {\\n  display: inline-block;\\n  margin-left: 5px;\\n}\\n\\n.frame {\\n  width: 100%;\\n  margin-bottom: 5px;\\n  border: 1px solid grey;\\n}\\n\\ncanvas {\\n  position: relative;\\n  z-index: 0;\\n}\\n\\n.canvas-size {\\n  cursor: pointer;\\n}\\n\\n.empty-canvas {\\n  position: absolute;\\n  width: 640px;\\n  height: 640px;\\n  z-index: 0;\\n  visibility: hidden;\\n}\\n\\n.instruments {\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1;\\n}\\n\\n.frame-item {\\n  position: relative;\\n  cursor: pointer;\\n}\\n\\n.mouseover-frame {\\n  border: 2px solid grey;\\n}\\n\\n.click-frame {\\n  border: 2px solid rgb(255, 209, 5);\\n}\\n\\n.instrument-hidden {\\n  visibility: hidden;\\n}\\n\\n.frame-number {\\n  position: absolute;\\n  top: 10px;\\n  left: 10px;\\n}\\n\\n.delete-frame {\\n  position: absolute;\\n  top: 0;\\n  right: 0px;\\n  cursor: pointer;\\n}\\n\\n.copy-frame {\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: pointer;\\n}\\n\\n.drag-frame {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  cursor: pointer;\\n}\\n\\n.canvas-player {\\n  position: unset;\\n  width: 100%;\\n}\\n\\n.canvas-main {\\n  position: absolute;\\n}\\n\\n.canvas-main1 {\\n  z-index: 1;\\n}\\n\\n.color-picker {\\n  display: none;\\n  }\\n\\n\\n  .save-img {\\n    margin: 15px;\\n    cursor: pointer;\\n  }\\n\\n  #canvas-player-wrapper:-webkit-full-screen {\\n    background-color: #fff;\\n  }\\n\\n.button-fullscreen {\\n  display: block;\\n  margin: 15px auto;\\n  cursor: pointer;\\n}\\n\\n.swap-color {\\n  width: 32px;\\n  height: 26px;\\n  margin-top: 4px;\\n  margin-left: 10px;\\n  background: url(\" + ___CSS_LOADER_URL___7___ + \") no-repeat;\\n  background-size: 22px;\\n  cursor: pointer;\\n}\\n\\n.shortcuts {\\n  font-size: 13px;\\n  padding: 5px;\\n}\\n\\n\\n\\n\\n\\n\", \"\"]);\n","\"use strict\";\n\nmodule.exports = function (url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = __webpack_public_path__ + \"assets/ac039aee4ec69579a64cdd63ed4db625.ttf\";","module.exports = __webpack_public_path__ + \"assets/ea1f8eb144c225e21de3d16cb6f9c725.png\";","module.exports = __webpack_public_path__ + \"assets/a0ba653686984712732c14e4d90a686e.png\";","module.exports = __webpack_public_path__ + \"assets/4a6b0911f25f8ca530c084d709c77e30.png\";","module.exports = __webpack_public_path__ + \"assets/f2a525e3bd3b85f2022f05dca1f55351.png\";","module.exports = __webpack_public_path__ + \"assets/3d21a55fcb55eeea25ef9537cd473453.png\";","module.exports = __webpack_public_path__ + \"assets/d19fcdcff26fa3b8684463d274933ef0.png\";","module.exports = __webpack_public_path__ + \"assets/3745121db96870b42522ac5b589ea796.png\";","// import AppController from './controller/AppController';\nimport App from '../app';\n\n// const appController = new AppController();\nconst controller = new App(window);\n\ncontroller.start();\n\n// appController.start();\n","/* eslint-disable max-len */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\n/* eslint-disable prefer-destructuring */\nimport View from './views/view';\nimport Tools from './components/tools';\nimport GIF from './views/export/gif';\nimport './views/view.css';\n\nexport default class App {\n  constructor() {\n    this.win = window;\n  }\n\n  async start() {\n    const newWindow = this.win;\n    const that = this;\n    this.view = new View(newWindow);\n    this.view.init();\n\n    const tempCanvas = document.createElement('canvas');\n    tempCanvas.width = 640;\n    tempCanvas.height = 640;\n\n    const canvasResize = newWindow.document.getElementById('canvas-resize');\n    const addFrame = newWindow.document.querySelector('.add-frame');\n    const canvasPlayer = newWindow.document.getElementById('canvas-player');\n    const canvasDiv = newWindow.document.querySelector('div.canvas');\n    const domFrames = [];\n    const domCanvas = [];\n    const exportImg = newWindow.document.getElementById('save-img');\n    const selectCanvasSize = newWindow.document.getElementsByClassName('canvas-size');\n    const currentColor = newWindow.document.getElementById('first-color');\n    const rangeSizeCanvas = newWindow.document.getElementById('range');\n    const canvasPlayerWrapper = newWindow.document.getElementById('canvas-player-wrapper');\n    const buttonFullScreen = newWindow.document.getElementById('button-fullscreen');\n    const swapColor = newWindow.document.getElementById('swap-color');\n    const firstColor = newWindow.document.getElementById('first-color');\n    let isFullScreen = false;\n    let count = 0;\n    let currentFrame = 1;\n    let dragedFrameId;\n    let fps = 5;\n\n    let currentCanvas = newWindow.document.getElementById('empty-canvas');\n    const sizeOrder = 1;\n    const currentOption = selectCanvasSize[0][sizeOrder];\n    currentOption.checked = true;\n    let canvasSize = Number(currentOption.value);\n    let previousCanvasSize = canvasSize;\n    let cnt = 0;\n    let intervalID = 0;\n    const canvasPlayerContext = newWindow.document.getElementById('canvas-player').getContext('2d');\n\n    this.tools = new Tools(currentCanvas, currentFrame, canvasSize);\n    const toolsdiv = newWindow.document.getElementById('tools');\n\n    /* if (sessionStorage.getItem('currentColor')) {\n      // Restore the contents of the text field\n      firstColor.value = sessionStorage.getItem('currentColor');\n      sizeOrder = Math.floor(sessionStorage.getItem('canvasSize') / 64);\n      selectCanvasSize[0][sizeOrder].checked = true;\n    } */\n\n    selectCanvasSize[0][sizeOrder].selected = true;\n\n    // handler for scaling canvas\n    function canvasResizeChange(e) {\n      const { target } = e;\n      previousCanvasSize = canvasSize;\n      target.options[target.options.selectedIndex].checked = true;\n      canvasSize = Number(target.value);\n      that.tools.canvasSize = canvasSize;\n      sessionStorage.setItem('canvasSize', canvasSize);\n      let imgData;\n\n      domCanvas.forEach((item) => {\n        const canvasContext = item.getContext('2d');\n        const newCanvas = newWindow.document.createElement('canvas');\n        if ((previousCanvasSize / canvasSize) > 1) {\n          imgData = canvasContext.getImageData(160, 160, 320, 320);\n          newCanvas.width = 320;\n          newCanvas.height = 320;\n        } else {\n          imgData = canvasContext.getImageData(0, 0, 640, 640);\n          newCanvas.width = 640;\n          newCanvas.height = 640;\n        }\n\n        const scale = previousCanvasSize / canvasSize;\n        const contextNewCanvas = newCanvas.getContext('2d');\n        contextNewCanvas.putImageData(imgData, 0, 0);\n\n        if (scale < 1) {\n          const pos = (640 - 640 / (1 / scale)) / 2;\n          canvasContext.clearRect(0, 0, 640, 640);\n          canvasContext.drawImage(newCanvas, pos, pos, 640 * scale, 640 * scale);\n        } else {\n          canvasContext.clearRect(0, 0, 640, 640);\n          canvasContext.drawImage(newCanvas, 0, 0, 320 * scale, 320 * scale);\n        }\n\n        contextNewCanvas.clearRect(0, 0, newCanvas.width, newCanvas.height);\n      });\n\n      domFrames.forEach((frame, i) => {\n        const frameContext = frame.getContext('2d');\n        const canvasforFrame = newWindow.document.getElementById(`canvas-main${i + 1}`);\n        frameContext.clearRect(0, 0, frame.width, frame.height);\n        frameContext.drawImage(canvasforFrame, 0, 0, frame.width, frame.height);\n      });\n    }\n    canvasResize.removeEventListener('change', canvasResizeChange);\n    canvasResize.addEventListener('change', canvasResizeChange);\n\n    function leftPanelEventClick(evt) {\n      let { target } = evt;\n\n      while (!target.className.includes('tool')) {\n        target = target.parentNode;\n      }\n\n      if (target.className.includes('bucket')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-bucket');\n      } else if (target.className.includes('dropper')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-color-picker');\n      } else if (target.className.includes('line')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-line');\n      } else if (target.className.includes('rectangle')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-rectangle');\n      } else if (target.className.includes('pen')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-pen');\n      } else if (target.className.includes('eraser')) {\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-eraser');\n      }\n    }\n\n    function leftPanelEventMouseOver(evt) {\n      let { target } = evt;\n      if (target) {\n        while (!target.className.includes('tool')) {\n          target = target.parentNode;\n        }\n        target.classList.add('left-panel-bg');\n      }\n    }\n\n    function leftPanelEventMouseOut(evt) {\n      let { target } = evt;\n\n      while (!target.className.includes('tool')) {\n        target = target.parentNode;\n      }\n      target.classList.remove('left-panel-bg');\n    }\n\n    // function for updating frame number and frame, instrument and canvas in frame id\n    function updateFrames() {\n      domFrames.forEach((item, i) => {\n        const instruments = item.nextElementSibling;\n        const frameNumber = instruments.childNodes[0];\n        frameNumber.innerHTML = i + 1;\n        instruments.id = `instruments${i + 1}`;\n        const frameItem = item.closest('.frame-item');\n        frameItem.id = `frame-item${i + 1}`;\n        item.id = `canvas${i + 1}`;\n      });\n    }\n\n    // function checks frames amount and hide (for one frame) or\n    // show (for more than one frames) delete and darg- instruments\n    function checkFrames(newFrameNumber) {\n      if (domFrames.length === 1) {\n        const oneFrame = newWindow.document.getElementsByClassName('frame-item');\n        oneFrame[0].classList.add('click-frame');\n        currentFrame = 1;\n        that.tools.currentFrame = currentFrame;\n        const instruments = oneFrame[0].lastChild;\n        instruments.childNodes.forEach((item) => {\n          if (item.className.includes('drag-frame') || item.className.includes('delete-frame')) {\n            item.classList.add('instrument-hidden');\n          }\n        });\n      } else {\n        domFrames.forEach((item) => {\n          if (item.parentNode.id === `frame-item${newFrameNumber}`) {\n            item.parentNode.classList.add('click-frame');\n            item.parentNode.classList.add('mouseover-frame');\n            currentFrame = newFrameNumber;\n            that.tools.currentFrame = currentFrame;\n          } else {\n            item.parentNode.classList.remove('click-frame');\n            item.parentNode.classList.remove('mouseover-frame');\n          }\n          item.parentNode.childNodes.forEach((el) => {\n            if (el.className.includes('instruments')) {\n              el.childNodes.forEach((elem) => {\n                if (elem.className.includes('drag-frame') || elem.className.includes('delete-frame')) {\n                  elem.classList.remove('instrument-hidden');\n                }\n              });\n            }\n          });\n        });\n      }\n    }\n\n    // function manage visibility for main canvases\n    function changeMainCanvasVisibility() {\n      domCanvas.forEach((item) => {\n        if (item !== currentCanvas) {\n          item.style.visibility = 'hidden';\n          item.style.zIndex = 0;\n        } else {\n          item.style.visibility = '';\n          item.style.zIndex = 1;\n        }\n      });\n    }\n\n    function startAnimation(numberFrames) {\n      cnt = 0;\n      const intensity = Math.floor(1000 / numberFrames);\n      if (intervalID) {\n        clearInterval(intervalID);\n      }\n      function repaintFrame() {\n        if (cnt === domCanvas.length) {\n          cnt = 0;\n        }\n        const canvas = domCanvas[cnt];\n        canvasPlayerContext.clearRect(0, 0, canvasPlayer.width, canvasPlayer.height);\n        canvasPlayerContext.drawImage(canvas, 0, 0, canvasPlayer.width, canvasPlayer.height);\n        cnt += 1;\n      }\n      intervalID = setInterval(repaintFrame, intensity);\n    }\n\n    // function for deleting frame and canvas\n    function deleteHandler(event) {\n      let target;\n      if (!event) {\n        target = newWindow.document.getElementById(`frame-item${currentFrame}`);\n      } else {\n        target = event.currentTarget;\n\n        while (!target.classList.contains('frame-item')) {\n          target = target.parentNode;\n        }\n      }\n      const removeCanvas = newWindow.document.getElementById(`canvas${target.id.slice(-1)}`);\n      domFrames.forEach((item, i) => {\n        if (item === removeCanvas) {\n          domFrames.splice(i, 1);\n          domCanvas.splice(i, 1);\n        }\n      });\n      // deleting frame\n      const parent = target.parentNode;\n      parent.removeChild(target);\n      updateFrames();\n      count -= 1;\n      checkFrames(count);\n      // deleting main canvas\n      const canvasRemove = newWindow.document.getElementById(`canvas-main${target.id.slice(-1)}`);\n      canvasDiv.removeChild(canvasRemove);\n      domCanvas.forEach((item, i) => {\n        item.id = `canvas-main${i + 1}`;\n      });\n      currentCanvas = newWindow.document.getElementById(`canvas-main${count}`);\n      that.tools.currentCanvas = currentCanvas;\n      changeMainCanvasVisibility();\n      startAnimation(fps);\n      event.stopPropagation();\n    }\n\n    // handler for selecting new frame\n    function changeHandler(event) {\n      let target = event.currentTarget;\n      while (!target.classList.contains('frame-item')) {\n        target = target.parentNode;\n      }\n      checkFrames(target.id.slice(-1));\n      currentFrame = target.id.slice(-1);\n      that.tools.currentFrame = currentFrame;\n      currentCanvas = newWindow.document.getElementById(`canvas-main${target.id.slice(-1)}`);\n      that.tools.currentCanvas = currentCanvas;\n      if (!currentCanvas) {\n        currentCanvas = newWindow.document.createElement('canvas');\n        currentCanvas.className = `canvas-main canvas-main${target.id.slice(-1)}`;\n        currentCanvas.id = `canvas-main${target.id.slice(-1)}`;\n        canvasDiv.appendChild(currentCanvas);\n        const currentCanvasContext = currentCanvas.getContext('2d');\n        const scale = previousCanvasSize / canvasSize;\n        currentCanvasContext.scale(scale, scale);\n      }\n      changeMainCanvasVisibility();\n      that.tools.currentCanvasHandlers();\n    }\n\n    function drag(el) {\n      const event = el.target.closest('.frame-item');\n      dragedFrameId = event.id.slice(-1);\n    }\n\n    function allowDrop(el) {\n      el.preventDefault();\n    }\n\n    function drop(el) {\n      el.preventDefault();\n      const dropTarget = el.target.closest('.frame-item');\n      const dropCanvas = newWindow.document.getElementById(`canvas${dropTarget.id.slice(-1)}`);\n      const dropMainCanvas = newWindow.document.getElementById(`canvas-main${dropTarget.id.slice(-1)}`);\n      const dragCanvas = newWindow.document.getElementById(`canvas${dragedFrameId}`);\n      const dragMainCanvas = newWindow.document.getElementById(`canvas-main${dragedFrameId}`);\n      const dragTarget = newWindow.document.getElementById(`frame-item${dragedFrameId}`);\n      domFrames[dropCanvas.id.slice(-1) - 1] = dragCanvas;\n      domFrames[dragCanvas.id.slice(-1) - 1] = dropCanvas;\n      domCanvas[dropMainCanvas.id.slice(-1) - 1] = dragMainCanvas;\n      domCanvas[dragMainCanvas.id.slice(-1) - 1] = dropMainCanvas;\n      dropMainCanvas.id = `canvas-main${dragedFrameId}`;\n      dragMainCanvas.id = `canvas-main${dropTarget.id.slice(-1)}`;\n      const tmp = newWindow.document.createElement('span');\n      tmp.className = 'hide';\n      dropTarget.before(tmp);\n      dragTarget.before(dropTarget);\n      tmp.replaceWith(dragTarget);\n      updateFrames();\n    }\n\n\n    // handlers for deleting and drag-drop frame\n    function toolsHandler() {\n      newWindow.document.querySelectorAll('.delete-img').forEach((el) => {\n        el.removeEventListener('click', deleteHandler);\n        el.addEventListener('click', deleteHandler);\n        function mouseenter() {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        }\n        el.removeEventListener('mouseenter', mouseenter);\n        el.addEventListener('mouseenter', mouseenter);\n        function mouseleave() {\n          el.style.backgroundColor = '';\n        }\n        el.removeEventListener('mouseleave', mouseleave);\n        el.addEventListener('mouseleave', mouseleave);\n      });\n\n      newWindow.document.querySelectorAll('.drag-img').forEach((el) => {\n        el.removeEventListener('dragstart', drag);\n        el.removeEventListener('dragover', allowDrop);\n        el.removeEventListener('drop', drop);\n\n        el.addEventListener('dragstart', drag);\n        el.addEventListener('dragover', allowDrop);\n        el.addEventListener('drop', drop);\n        function elMouseenter() {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        }\n        el.removeEventListener('mouseenter', elMouseenter);\n        el.addEventListener('mouseenter', elMouseenter);\n        function elMouseLeave() {\n          el.style.backgroundColor = '';\n        }\n        el.removeEventListener('mouseleave', elMouseLeave);\n        el.addEventListener('mouseleave', elMouseLeave);\n      });\n    }\n\n    // function for copying frame and canvas\n    function copyHandler(event) {\n      count += 1;\n      let target;\n      if (!event) {\n        target = newWindow.document.getElementById(`frame-item${currentFrame}`);\n      } else {\n        target = event.currentTarget;\n\n        while (!target.classList.contains('frame-item')) {\n          target = target.parentNode;\n        }\n      }\n      // copying frame\n      const parent = target.parentNode;\n      const cloneFrame = target.cloneNode(true);\n      parent.appendChild(cloneFrame);\n      cloneFrame.id = `frame-item${count}`;\n      const instrument = cloneFrame.getElementsByClassName('instruments')[0];\n      instrument.id = `instruments${count}`;\n      instrument.childNodes[0].innerHTML = count;\n      instrument.getElementsByClassName('copy-img')[0].style.backgroundColor = '';\n      // change copying canvas in frame\n      const curFrameCanvas = target.getElementsByClassName('canvas-frame')[0];\n      const cloneframeCanvas = cloneFrame.getElementsByClassName('canvas-frame')[0];\n      cloneframeCanvas.id = `canvas${count}`;\n      const cloneframeCanvasContext = cloneframeCanvas.getContext('2d');\n      cloneframeCanvasContext.drawImage(curFrameCanvas, 0, 0);\n      domFrames.push(cloneframeCanvas);\n      checkFrames(count);\n      // copying main canvas\n      const copyCanvas = newWindow.document.getElementById(`canvas-main${target.id.slice(-1)}`).cloneNode();\n      const contextCopyCanvas = copyCanvas.getContext('2d');\n      contextCopyCanvas.drawImage(newWindow.document.getElementById(`canvas-main${target.id.slice(-1)}`), 0, 0);\n      copyCanvas.id = `canvas-main${count}`;\n      copyCanvas.className.replace(`/ *\\b${target.id.slice(-1)}\\b/g`, count);\n      canvasDiv.appendChild(copyCanvas);\n      currentCanvas = copyCanvas;\n      that.tools.currentCanvas = currentCanvas;\n      // const context = currentCanvas.getContext('2d');\n      domCanvas.push(copyCanvas);\n      changeMainCanvasVisibility();\n      event.stopPropagation();\n\n      newWindow.document.querySelectorAll('.copy-img').forEach((el) => {\n        el.removeEventListener('click', copyHandler);\n        el.addEventListener('click', copyHandler);\n        function elMouseEnter() {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        }\n        el.removeEventListener('mouseenter', elMouseEnter);\n        el.addEventListener('mouseenter', elMouseEnter);\n        function elMouseleave() {\n          el.style.backgroundColor = '';\n        }\n        el.removeEventListener('mouseleave', elMouseleave);\n        el.addEventListener('mouseleave', elMouseleave);\n      });\n      newWindow.document.querySelectorAll('.frame-item').forEach((el) => {\n        el.removeEventListener('click', changeHandler);\n        el.addEventListener('click', changeHandler);\n        function elMouseenter() {\n          el.classList.add('mouseover-frame');\n        }\n        el.removeEventListener('mouseenter', elMouseenter);\n        el.addEventListener('mouseenter', elMouseenter);\n        function elMouseleave() {\n          el.classList.remove('mouseover-frame');\n        }\n        el.removeEventListener('mouseleave', elMouseleave);\n        el.addEventListener('mouseleave', elMouseleave);\n      });\n      toolsHandler();\n    }\n\n    // full-size animation\n    function canvasPlayerClick() {\n      canvasPlayerWrapper.requestFullscreen();\n      isFullScreen = true;\n    }\n\n    function exitFullScreen() {\n      if (isFullScreen) {\n        canvasPlayer.style.width = '640px';\n        canvasPlayer.style.height = '640px';\n        isFullScreen = false;\n      } else {\n        canvasPlayer.style.width = '100%';\n        canvasPlayer.style.height = `${canvasPlayer.clientWidth}px`;\n        isFullScreen = false;\n      }\n    }\n\n    buttonFullScreen.removeEventListener('click', canvasPlayerClick);\n    buttonFullScreen.addEventListener('click', canvasPlayerClick);\n    newWindow.document.removeEventListener('fullscreenchange', exitFullScreen);\n    newWindow.document.addEventListener('fullscreenchange', exitFullScreen);\n\n    // change animation speed\n    function rangeSizeCanvasInput() {\n      fps = rangeSizeCanvas.value;\n      startAnimation(Number(fps));\n    }\n    rangeSizeCanvas.removeEventListener('input', rangeSizeCanvasInput);\n    rangeSizeCanvas.addEventListener('input', rangeSizeCanvasInput);\n\n    // adding new frame\n    function plusFrame() {\n      canvasPlayer.style.height = `${canvasPlayer.clientWidth}px`;\n      count += 1;\n      that.view.addFrame(count, domFrames);\n      checkFrames(count);\n\n      currentCanvas = newWindow.document.createElement('canvas');\n      currentCanvas.className = `canvas-main canvas-main${count}`;\n      currentCanvas.id = `canvas-main${count}`;\n      currentCanvas.style.zIndex = 1;\n      currentCanvas.width = 640;\n      currentCanvas.height = 640;\n      that.tools.currentCanvas = currentCanvas;\n      canvasDiv.appendChild(currentCanvas);\n      domCanvas.push(currentCanvas);\n\n      changeMainCanvasVisibility();\n      startAnimation(5);\n      that.tools.currentCanvas = currentCanvas;\n      that.tools.currentCanvasHandlers();\n\n      newWindow.document.querySelectorAll('.copy-img').forEach((el) => {\n        el.removeEventListener('click', copyHandler);\n        el.addEventListener('click', copyHandler);\n        function elMouseenter() {\n          el.style.backgroundColor = 'rgb(214, 214, 214)';\n        }\n        el.removeEventListener('mouseenter', elMouseenter);\n        el.addEventListener('mouseenter', elMouseenter);\n        function elMouseLeave() {\n          el.style.backgroundColor = '';\n        }\n        el.removeEventListener('mouseleave', elMouseLeave);\n        el.addEventListener('mouseleave', elMouseLeave);\n      });\n      newWindow.document.querySelectorAll('.frame-item').forEach((el) => {\n        el.removeEventListener('click', changeHandler);\n        el.addEventListener('click', changeHandler);\n        function elMouseenter() {\n          el.classList.add('mouseover-frame');\n        }\n        el.removeEventListener('mouseenter', elMouseenter);\n        el.addEventListener('mouseenter', elMouseenter);\n        function elMouseleave() {\n          el.classList.remove('mouseover-frame');\n        }\n        el.removeEventListener('mouseleave', elMouseleave);\n        el.addEventListener('mouseleave', elMouseleave);\n      });\n      toolsHandler();\n    }\n\n    plusFrame();\n\n    toolsdiv.removeEventListener('mousedown', leftPanelEventClick);\n    toolsdiv.addEventListener('mousedown', leftPanelEventClick);\n    toolsdiv.addEventListener('mouseover', leftPanelEventMouseOver);\n    toolsdiv.addEventListener('mouseout', leftPanelEventMouseOut);\n\n    addFrame.removeEventListener('click', plusFrame);\n    addFrame.addEventListener('click', plusFrame);\n    function addFrameMouseEnter() {\n      addFrame.style.border = '3px solid grey';\n    }\n    addFrame.removeEventListener('mouseenter', addFrameMouseEnter);\n    addFrame.addEventListener('mouseenter', addFrameMouseEnter);\n\n    function addFrameMouseleave() {\n      addFrame.style.border = '1px solid grey';\n    }\n    addFrame.removeEventListener('mouseleave', addFrameMouseleave);\n    addFrame.addEventListener('mouseleave', addFrameMouseleave);\n    function exportImgMouseOver(el) {\n      el.target.style.backgroundColor = 'rgb(214, 214, 214)';\n    }\n    exportImg.removeEventListener('mouseover', exportImgMouseOver);\n    exportImg.addEventListener('mouseover', exportImgMouseOver);\n\n    function exportImgMouseOut(el) {\n      el.target.style.backgroundColor = '';\n    }\n    exportImg.removeEventListener('mouseout', exportImgMouseOut);\n    exportImg.addEventListener('mouseout', exportImgMouseOut);\n    function exportImgClick() {\n      const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        workerScript: 'src/views/export/gif.worker.js',\n        // transparent: 0xFCFCFC,\n        width: 640,\n        height: 640,\n      });\n\n      domCanvas.forEach((item) => {\n        gif.addFrame(item, { delay: 200 });\n      });\n\n      function saveData(blob, fileName) {\n        const a = newWindow.document.createElement('a');\n        newWindow.document.body.appendChild(a);\n        a.style = 'display: none';\n        const url = newWindow.URL.createObjectURL(blob);\n        a.href = url;\n        a.download = fileName;\n        a.click();\n        newWindow.URL.revokeObjectURL(url);\n      }\n\n      gif.on('finished', (blob) => {\n        const fileName = 'animation.gif';\n        saveData(blob, fileName);\n      });\n\n      gif.render();\n    }\n\n    exportImg.removeEventListener('click', exportImgClick);\n    exportImg.addEventListener('click', exportImgClick);\n\n    function keyDown(e) {\n      if ((e.shiftKey && e.keyCode === 'A'.charCodeAt(0))) {\n        e.preventDefault();\n        copyHandler();\n        return false;\n      }\n\n      if ((e.shiftKey && e.keyCode === 'C'.charCodeAt(0))) {\n        e.preventDefault();\n        copyHandler();\n        return false;\n      }\n\n      if ((e.shiftKey && e.keyCode === 'D'.charCodeAt(0))) {\n        e.preventDefault();\n        deleteHandler();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'G'.charCodeAt(0))) {\n        e.preventDefault();\n        exportImg.focus();\n        exportImg.click();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'R'.charCodeAt(0))) {\n        e.preventDefault();\n        rangeSizeCanvas.focus();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'S'.charCodeAt(0))) {\n        e.preventDefault();\n        selectCanvasSize[0].focus();\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'L'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-line');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'V'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-rectangle');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'B'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-bucket');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'C'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-color-picker');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'P'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-pen');\n        return false;\n      }\n\n      if ((e.ctrlKey && e.keyCode === 'E'.charCodeAt(0))) {\n        e.preventDefault();\n        newWindow.document.body.classList.remove('cursor-bucket', 'cursor-line', 'cursor-color-picker', 'cursor-rectangle', 'cursor-pen', 'cursor-eraser');\n        newWindow.document.body.classList.add('cursor-eraser');\n        return false;\n      }\n      return false;\n    }\n\n    function swapColors() {\n      const firstClr = newWindow.document.getElementById('first-color');\n      const secondClr = newWindow.document.getElementById('second-color');\n      const firstId = firstClr.id;\n      const secondId = secondClr.id;\n      const parenFirstColor = firstClr.parentNode;\n      const parenSecondColor = secondClr.parentNode;\n      firstClr.classList.remove('first-color');\n      firstClr.classList.add('second-color');\n      firstClr.id = secondId;\n      secondClr.classList.remove('second-color');\n      secondClr.classList.add('first-color');\n      secondClr.id = firstId;\n      parenSecondColor.appendChild(firstClr);\n      parenSecondColor.removeChild(secondClr);\n      parenFirstColor.appendChild(secondClr);\n      parenFirstColor.removeChild(firstClr);\n      sessionStorage.setItem('currentColor', firstColor.value);\n    }\n\n    newWindow.document.removeEventListener('keydown', keyDown);\n    newWindow.document.addEventListener('keydown', keyDown);\n    swapColor.removeEventListener('click', swapColors);\n    swapColor.addEventListener('click', swapColors);\n\n    firstColor.addEventListener('click', () => {\n      sessionStorage.setItem('currentColor', currentColor);\n    });\n  }\n}\n"],"sourceRoot":""}